<!DOCTYPE html>
<html lang="en-US" prefix="og: https://ogp.me/ns#">
<head>
<meta charset="UTF-8">
<meta name="robots" content="index, follow">


<!-- page title, displayed in your browser bar -->

<link rel="shortcut icon" href="/favicon.png">

<!-- add feeds, pingback and stuff-->
<link rel="profile" href="https://gmpg.org/xfn/11">
<link rel="alternate" type="application/rss+xml" title="xJSFL RSS2 Feed" href="/feed">
<link rel="pingback" href="/xmlrpc.php">


<!-- add css stylesheets -->
<link rel="stylesheet" type="text/css" media="all" href="/wp-content/themes/broadscope/style.css">
<link rel="stylesheet" href="/wp-content/themes/broadscope/js/prettyPhoto/css/prettyPhoto.css" type="text/css" media="screen">
<link rel="stylesheet" href="/wp-content/themes/broadscope/css/light-skin.css" type="text/css" media="screen">
<link rel="stylesheet" href="/wp-content/themes/broadscope/css/shortcodes.css" type="text/css" media="screen">

<!-- add google prettyprint code -->

<link href="/wp-content/themes/broadscope/js/google-code-prettify/css/prettify.css" type="text/css" rel="stylesheet">
<script src="/wp-content/themes/broadscope/js/google-code-prettify/js/prettify.js"></script>


<!-- plugin and theme output with wp_head() -->

		<!-- All in One SEO 4.1.5.3 -->
		<title>URI (library) | xJSFL</title>
		<meta name="description" content="Handles URI and path conversion and detection and resolution of relative paths">
		<meta name="robots" content="max-image-preview:large">
		<link rel="canonical" href="/support/api/file/uri">
		<meta property="og:locale" content="en_US">
		<meta property="og:site_name" content="xJSFL | The rapid development framework for extending Adobe Flash">
		<meta property="og:type" content="article">
		<meta property="og:title" content="URI (library) | xJSFL">
		<meta property="og:description" content="Handles URI and path conversion and detection and resolution of relative paths">
		<meta property="og:url" content="https://xjsfl.vercel.app/support/api/file/uri">
		<meta property="article:published_time" content="2011-07-04T03:03:00+00:00">
		<meta property="article:modified_time" content="2012-06-06T10:12:26+00:00">
		<meta name="twitter:card" content="summary">
		<meta name="twitter:domain" content="xjsfl.vercel.app">
		<meta name="twitter:title" content="URI (library) | xJSFL">
		<meta name="twitter:description" content="Handles URI and path conversion and detection and resolution of relative paths">
		<script type="text/javascript">
			window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
			ga('create', "UA-603607-7", 'auto');
			ga('send', 'pageview');
		</script>
		<script async src="https://www.google-analytics.com/analytics.js"></script>
		<!-- All in One SEO -->

<link rel="dns-prefetch" href="//s.w.org">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/xjsfl.vercel.app\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.2"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
	<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=5.8.2" type="text/css" media="all">
<link rel="stylesheet" id="page-list-style-css" href="/wp-content/plugins/sitemap/css/page-list.css?ver=4.3" type="text/css" media="all">
<link rel="stylesheet" id="newsletter-css" href="/wp-content/plugins/newsletter/style.css?ver=7.3.4" type="text/css" media="all">
<style id="newsletter-inline-css" type="text/css">font-family:Arial, Verdana, Sans-Serif;</style>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js?ver=3.6.0" id="jquery-core-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2" id="jquery-migrate-js"></script>
<script type="text/javascript" src="/wp-content/themes/broadscope/js/tabsize.jquery.js?ver=5.8.2" id="tabsize-js"></script>
<script type="text/javascript" src="/wp-content/themes/broadscope/js/avia.js?ver=1" id="avia-default-js"></script>
<script type="text/javascript" src="/wp-content/themes/broadscope/js/prettyPhoto/js/jquery.prettyPhoto.js?ver=3.0.1" id="avia-prettyPhoto-js"></script>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/844">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 5.8.2">
<link rel="shortlink" href="/?p=844">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fsupport%2Fapi%2Ffile%2Furi">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fsupport%2Fapi%2Ffile%2Furi&#038;format=xml">
<script type="text/javascript"><!--//--><![CDATA[//><!--
function prepareTargetBlank() {
	var className = 'wpsi-blank';
	var as = document.getElementsByTagName('a');
	for(i=0;i<as.length;i++) {
		var a = as[i];
		r=new RegExp("(^| )"+className+"($| )");
		if(r.test(a.className)) {
			a.onclick = function() {
				window.open(this.href);
				return false;
			}
		}
	}
}
window.onload = prepareTargetBlank;
//--><!]]>
</script>
<!-- custom styles set at your backend-->
<style type="text/css">.bg-logo a, .contentSlideControlls .activeItem, .contentSlideControlls a:hover, #top .avia_mega ul ul li, #top .avia_mega >li >ul li, .widget_links li, .widget_meta li, .widget_archive li,  .widget_categories li, .widget_pages li, #top .more-link, .pagination .current, .pagination a, .button, .dropcap2, .featured, #commentform #submit{
background-color:#bf0b0b;
}

#top .more-link, .pagination .current, .pagination a, .button, #commentform #submit{
border-color:#bf0b0b;
}

a, .news-link:hover, .widget_archive li a:hover, #reply-title small a{
color:#bf0b0b;
}

#top .more-link:hover, .pagination a:hover, .button:hover, #commentform #submit:hover{
background-color:#1c8bba;
}

#top .more-link:hover, .pagination a:hover, .button:hover, #commentform #submit:hover{
border-color:#1c8bba;
}

a:hover{
color:#1c8bba;
}


body{
background-color:#f8f8f8;
}

body{
background-position:top left;
}

body{
background-repeat:no-repeat;
}

body{
background-attachment:scroll;
}</style>

<!-- end custom styles-->


<!-- @font-face stylesheets -->
<link href="/wp-content/themes/broadscope/framework/fonts/droidsans/stylesheet.css" rel="stylesheet" type="text/css">

<!-- custom.css file: use this file to add your own styles and overwrite the theme defaults -->
<link rel="stylesheet" href="/wp-content/themes/broadscope/css/custom.css" type="text/css" media="screen">
</head>



<body id="top" class="post-template-default single single-post postid-844 single-format-standard">

	<div id="wrap_all" class="boxed">

	<!-- ####### HEAD CONTAINER ####### -->
			<div class="container_wrap" id="header">

				<div class="container">

					<h1 class="logo"><a href="/"><img src="/wp-content/uploads/icon-wide-with-strap.png" alt=""></a></h1>
<form action="/" id="searchform" method="get">
	<div>
		<input type="submit" value="" id="searchsubmit" class="button">
		<input type="text" id="s" name="s" value="">
	</div>
</form>
<!-- end searchform-->

					<ul class="social_bookmarks">
						<li class="rss"><a href="/feed">RSS</a></li>
						<li class="twitter"><a href="https://twitter.com/xjsfl">Twitter</a></li>
					</ul>
					<!-- end social_bookmarks-->

					<div class=" megaWrapper"><ul id="menu-main" class="avia_mega">
<li id="menu-item-400" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home"><a href="/home">Home</a></li>
<li id="menu-item-738" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/features">Features</a></li>
<li id="menu-item-954" class="menu-item menu-item-type-custom menu-item-object-custom"><a href="/case-studies">Case Studies</a></li>
<li id="menu-item-395" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/support">Support</a></li>
<li id="menu-item-946" class="menu-item menu-item-type-custom menu-item-object-custom"><a href="/roadmap">Roadmap</a></li>
<li id="menu-item-553" class="menu-item menu-item-type-custom menu-item-object-custom"><a href="/category/blog">Blog</a></li>
<li id="menu-item-398" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/contact">Contact</a></li>
<li id="menu-item-399" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/download">Download</a></li>
</ul></div>


				</div>
				<!-- end container-->

			</div>
			<!-- end container_wrap_header -->

			<!-- ####### END HEAD CONTAINER ####### -->

			<div class="container_wrap" id="featured">	<div class="container slideshow_container">
<div class="fullwidth_no_image"></div>	</div>
</div>
		<!-- ####### MAIN CONTAINER ####### -->
		<div class="container_wrap" id="main">

			<div class="container">

				<div id="template-blog" class="content grid8 first">


		<div class="post-entry">
			<h1 class="post-title">
				<a href="/support/api/file/uri" rel="bookmark" title="Permanent Link: URI (library)">URI (library)</a>
			</h1>

			<!--meta info-->
	        <div class="blog-meta one_fifth">

				<span class="post-date-comment-container">
					<span class="date-container">04<strong>Jul</strong>2011</span>
					<span class="comment-container"><span class="comments-link"><strong></strong> Comments<br>Off</span>					</span>

				</span>

				<span class="blog-categories"><strong>Categories:</strong><a href="/category/support/api/file" rel="category tag">File</a></span>						</div>
<!--end meta info-->


			<div class="entry-content four_fifth">


	<h2>Overview</h2>


	<h3>Summary</h3>
	<p>Handles URI and path conversion, including detection and resolution of relative paths</p>

	<h3>Contents</h3>
	<h5><a href="#overview">Overview</a></h5>
<ul>
	<li><a href="#summary">Summary</a></li>
	<li><a href="#concept">Concept</a></li>
	<li><a href="#usage">Usage</a></li>
</ul>

		<h5>
<a href="#uri-instance">URI Instance</a> </h5>
		<ul>
			<li><a href="#uri">URI(pathOrURI, context)</a></li>
			<li>
<a href="#properties">Properties</a>
				<ul>
					<li><a href="#uri">uri</a></li>
					<li><a href="#folder">folder</a></li>
					<li><a href="#name">name</a></li>
					<li><a href="#extension">extension</a></li>
					<li><a href="#path">path</a></li>
					<li><a href="#type">type</a></li>
				</ul>
			</li>
			<li>
<a href="#methods">Methods</a>
				<ul>
					<li><a href="#getparent">getParent()</a></li>
					<li><a href="#pathto">pathTo(pathOrURI)</a></li>
					<li><a href="#tostring">toString()</a></li>
				</ul>
			</li>
		</ul>
<h5><a href="#static-methods">Static methods</a></h5>
		<ul>
			<li>
<a href="#creation-functions">Creation functions</a>
				<ul>
					<li><a href="#touri">toURI(pathOrURI, context, checkLength)</a></li>
					<li><a href="#topath">toPath(pathOrURI, shorten)</a></li>
				</ul>
			</li>
			<li>
<a href="#conversion-functions">Conversion functions</a>
				<ul>
					<li><a href="#asuri">asURI(pathOrURI, checkLength)</a></li>
					<li><a href="#aspath">asPath(pathOrURI, shorten)</a></li>
				</ul>
			</li>
			<li>
<a href="#testing-functions">Testing functions</a>
				<ul>
					<li><a href="#isuri">isURI(pathOrURI)</a></li>
					<li><a href="#ispath">isPath(pathOrURI)</a></li>
					<li><a href="#isabsolute">isAbsolute(pathOrURI)</a></li>
					<li><a href="#isrelative">isRelative(pathOrURI)</a></li>
					<li><a href="#isfile">isFile(pathOrURI)</a></li>
					<li><a href="#isfolder">isFolder(pathOrURI)</a></li>
					<li><a href="#isroot">isRoot(pathOrURI)</a></li>
				</ul>
			</li>
			<li>
<a href="#extraction-functions">Extraction functions</a>
				<ul>
					<li><a href="#getname">getName(pathOrURI, removeExtension)</a></li>
					<li><a href="#getextension">getExtension(pathOrURI)</a></li>
					<li><a href="#getfolder">getFolder(pathOrURI)</a></li>
					<li><a href="#uri-getparent">getParent(pathOrURI)</a></li>
					<li><a href="#getbranch">getBranch(src, trg)</a></li>
					<li><a href="#pathto">pathTo(src, trg)</a></li>
					<li><a href="#findfolder">findFolder(pathOrURI, folder)</a></li>
					<li><a href="#retarget">reTarget(src, trg, base)</a></li>
				</ul>
			</li>
</ul>
<h3>Concept</h3>
	<h4>Problem</h4>
	<p>JSFL's support for managing file paths is pretty limited:</p>
	<ul>
		<li>file references must be in the URI format &quot;file:///c|path%20to/file.txt&quot;</li>
		<li>relative paths such as &quot;sibling.jsfl&quot; or &quot;../parent.jsfl&quot; are not recognised</li>
		<li>FLfile's conversion functions are limited in their functionality and choosy about their input</li>
	</ul>
	<p>The end result is that referencing and accessing files in JSFL is highly inflexible, with laborious, absolute URIs being the norm, and file management generally being a bit of a pain.</p>
<h4>Solution</h4>
<p>xJSFL provides a single do-it-all class for URI management, the <strong>URI</strong> class. URIs can: </p>
<ul>
	<li>be created as <a href="#uri-instance">URI instances</a>, which can be treated as Strings, but have have various sub-properties such as <a href="#folder">folder</a>, <a href="#parent">parent</a>, <a href="#extension">extension</a>
</li>
	<li>or be created as strings, from a wide range of <a href="#static-methods">static methods</a> on the URI class itself</li>
</ul>
<p>The URI static methods and URI instance handle the conversion of paths, URIs and token to and from URIs and paths in xJSFL, as well as some other power-features.</p>
<p>Its usability features are:</p>
	<ul>
		<li>toPath and toURI take URIs, full paths, partial paths or even xJSFL folder {tokens}</li>
		<li>Paths and URIs are tidied</li>
		<li>Windows paths are returned using (perfectly valid) forward slashes</li>
		<li>Long paths (&gt;260 characters) throw an error (where Flash would fail silently)</li>
	</ul>
<p>Structurally, it can:</p>
	<ul>
		<li>convert to and from registered folder {tokens}</li>
		<li>combine a relative and absolute URI to create a new absolute URIs</li>
		<li>work out common branch folders, or retarget existing URIs to new folders</li>
	</ul>
	<p>Finally, and most importantly, it can</p>
	<ul>
		<li>Resolve absolute URIs from relative paths, relative to the calling location</li>
	</ul>
<p>All this functionality essentially means you can throw just about anything at the URI class and it will give you back a solid URI to work with. See the section on  <a href="/support/guides/framework-basics/file-handling#uri-juggling">URI juggling</a> for more information.</p>
<h4>Caveats</h4>
	<p>Note that there <strong>is</strong> a small overhead with using relative paths.</p>
	<p>Internally, xJSFL has to jump through some hoops to determine the running files, and then has to parse out their locations. If you are building performance-sensitive code, be sure to:</p>
	<ul>
		<li> keep calls passing relative paths to a minimum</li>
		<li>define absolute URIs that Flash can use as soon as possible</li>
	</ul>
	<p>URI-formatted strings (file:///) <strong>always</strong> bypass parsing. Otherwise the library kicks in, so make sure to create an absolute URI as soon as possible! </p>
<h3>Usage</h3>
<h4>Using static methods</h4>
<p>Often, you'll just want to create a URI to use, and you can simply use some string concatenation, like so:</p>
<pre class="prettyprint">
var uri = xjsfl.uri + 'user/jsfl/functions.txt'; // file:///E|/Projects/xJSFL/user/jsfl/functions.jsfl</pre>
<p>With the URI class, you can use <a href="#touri">URI.toURI</a> to create a URI that's aware of your current location:</p>
<pre class="prettyprint">
var uri = URI.toURI('functions.txt'); // file:///E|/Projects/xJSFL/user/jsfl/functions.jsfl</pre>
<p>Or, you could use a token to create the URI:</p>
<pre class="prettyprint">
var uri = URI.toURI('{user}/jsfl/functions.txt'); // file:///E|/Projects/xJSFL/user/jsfl/functions.jsfl</pre>
<p>The URI class has a whole host of other useful URI management and manipulation functions as well, for example:</p>
<pre class="prettyprint">URI.getName(uri);      // functions.jsfl
URI.getExtension(uri); // jsfl
URI.getFolder(uri);    // file:///E|/Projects/xJSFL/user/jsfl/<br></pre>
<h4>URI instance</h4>
<p>URI instances can be used where you need more flexibility with a single URI, as it has various properties that can be read to return the components of the uri, for example:</p>
<pre class="prettyprint">// create the URI instance
	var uri = new URI('functions.jsfl');

// test the URI properties
	uri.name           // functions.jsfl
	uri.extension      // jsfl
	uri.folder         // file:///E|/Projects/xJSFL/user/jsfl/<br>	uri.type           // file
</pre>
<h4>Location-aware classes</h4>
<p>Note that all of the file-related classes and methods in xJSFL are <strong>location-aware</strong>. That is, you can pass in a relative path, and it will be converted internally so that Flash can work with an absolute URI straight off the bat. Therefore, you usually don't need to create an absolute URI (unless you have a specific reason to) when working with files local to the script you're working in, for example:</p>
<pre class="prettyprint">
var file     = new File('some file.txt');
var template = new Template('../assets/templates/text/output.txt', data);
var logger   = new Logger(template, '../temp/logs/log.txt');
</pre>
<h3 class="prettyprint"><a name="location-aware-custom-classes">Developing your own location-aware functions and classes</a></h3>
<h4>Overview</h4>
<p>The mechanism for creating location-aware classes relies on the internal <a href="/support/api/utils/Utils#getStack">call stack</a> of currently running functions, to determine location of the initial call.</p>
<p>When a function in JSFL is called, it is added to an internal Array, and when that function calls some code, that function is added as well, and so on, and so on. This stack stores the snippet of JSFL, the URI and the line number of the calling code, and this information is used inside the URI class to determine the URI of calling functions by navigating the stack, and grabbing the correct URI:</p>
<pre class="prettyprint lang-javascript">
// E:/Projects/xJSFL/dev/folder 1/a.jsfl
function a(){ b(); }

// E:/Projects/xJSFL/dev/folder 2/b.jsfl
function b(){ c(); }

// E:/Projects/xJSFL/dev/folder 3/c.jsfl
function c(){ inspect(Utils.getStack()); }

// E:/Projects/xJSFL/dev/test.jsfl
a();</pre>
<pre>Inspect: Array (depth:4, objects:4, values:20, time:0.0 seconds)<br>--------------------------------------------------------------------------------<br>array =&gt; Array<br>	[0] =&gt; Object<br>		 line: 36<br>		 code: &quot;c()&quot;<br>		 file: &quot;c.jsfl&quot;<br>		 path: &quot;E:/Projects/xJSFL/dev/folder 3/&quot;<br>		 uri: &quot;file:///E|/Projects/xJSFL/dev/folder 3/c.jsfl&quot;<br>	[1] =&gt; Object<br>		 line: 31<br>		 code: &quot;b()&quot;<br>		 file: &quot;b.jsfl&quot;<br>		 path: &quot;E:/Projects/xJSFL/dev/folder 2/&quot;<br>		 uri: &quot;file:///E|/Projects/xJSFL/dev/folder 2/b.jsfl&quot;<br>	[2] =&gt; Object<br>		 line: 26<br>		 code: &quot;a()&quot;<br>		 file: &quot;a.jsfl&quot;<br>		 path: &quot;E:/Projects/xJSFL/dev/folder 1/&quot;<br>		 uri: &quot;file:///E|/Projects/xJSFL/dev/folder 1/a.jsfl&quot;<br>	[3] =&gt; Object<br>		 line: 39<br>		 code: &quot;&quot;<br>		 file: &quot;test.jsfl&quot;<br>		 path: &quot;E:/Projects/xJSFL/dev/&quot;<br>		 uri: &quot;file:///E|/Projects/xJSFL/dev/test.jsfl&quot;
</pre>
<h4>Working example</h4>
<p>Take this file in <strong>location A</strong>; it's at <strong>index 0</strong> in the call stack. It then calls a function loaded from a file in a completely different folder, <strong>location B</strong>:</p>
<pre class="prettyprint lang-javascript">
// location: xJSFL/user/jsfl/test.jsfl
test('test.jsfl');</pre>
This code in <strong>location B</strong> is now at <strong>index 1</strong> in the call stack, but needs to know the location of the <strong>calling script</strong> at <strong>index 0</strong>.
<p>Doing this is simple; the <a href="#uri-instance">URI instance</a> and <a href="#uri-touri">URI.toURI()</a> function both accept a second <strong>context</strong> parameter, which is used to determine which index of stack to grab. In this case, it is simple a number that says <em>how many steps away the calling function is from the current function</em>. In the following example, it's one, so we pass 1 as the context parameter when we create the URI:</p>
<pre class="prettyprint lang-javascript">
// location: xJSFL/user/jsfl/libraries/functions.jsfl
	function test(path)
	{
		var thatURI = new URI(path, 1); // context is 1, as this function is 1 step away from the calling code
		var thisURI = new URI();        // an empty URI grabs the current file URI

		trace('Calling path:  ' + thatURI.path);
		trace('Function path: ' + thisURI.path);
	}</pre>

<p>The results are that the script in location B can correctly calculate the absolute path from a variable passed from location A:</p>

<pre class="prettyprint lang-javascript">Calling path:  E:/Projects/xJSFL/user/jsfl/test.jsfl
Function path: E:/Projects/xJSFL/user/jsfl/libraries/functions.jsfl</pre>
<h2><a id="uri-instance" name="uri-instance" href="#uri-instance">URI Instance</a></h2>
	<p class="description">Instantiatable class that can be used to easily create and manipulate URI strings</p>
	<ul>
		<li><a href="#uri">URI(pathOrURI, context)</a></li>
		<li>
<a href="#properties">Properties</a>
			<ul>
				<li><a href="#uri">uri</a></li>
				<li><a href="#folder">folder</a></li>
				<li><a href="#name">name</a></li>
				<li><a href="#extension">extension</a></li>
				<li><a href="#path">path</a></li>
				<li><a href="#type">type</a></li>
			</ul>
		</li>
		<li>
<a href="#methods">Methods</a>
			<ul>
				<li><a href="#getparent">getParent()</a></li>
				<li><a href="#pathto">pathTo(pathOrURI)</a></li>
				<li>
<a href="#tostring">toString()</a>		</li>
			</ul>
		</li>
	</ul>
	<div class="method">
		<h3 class="signature"><a id="uri" name="uri" href="#uri">URI(pathOrURI, context)</a></h3>
		<p class="description">URI Constructor</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A token, path or URI-formatted string</span>
</li>
					<li>
<span class="name">context</span> <span class="type">String</span> <span class="comment">An optional uri or path context, from which to start the URI</span>
</li>
					<li>
<span class="name">context</span> <span class="type">File</span> <span class="comment">An optional File from which to start the URI</span>
</li>
					<li>
<span class="name">context</span> <span class="type">Folder</span> <span class="comment">An optional Folder from which to start the URI</span>
</li>
					<li>
<span class="name">context</span> <span class="type">Number</span> <span class="comment">An optional stack-function index, the location of which to derive the URI from</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example creates a URI instance referencing a relative file:</p>
	<pre class="prettyprint lang-javascript">var URI = new URI('path/to/file.jsfl');
trace(uri);</pre>
	<pre><span class="prettyprint">file:///E|/Projects/xJSFL/user/jsfl/path/to/file.jsfl</span></pre>
The context parameter can be used when you want to reference the file from another location, in this case a folder URI:
<pre class="prettyprint lang-javascript">var folder      = fl.configURI;<br>var file        = 'path/to/file.jsfl';<br>var uri         = new URI(file, folder);<br>trace(uri);</pre>
<pre>file:///F|/Users/Dave%20Stewart/AppData/Local/Adobe/Flash%20CS4/en/Configuration/path/to/file.jsfl
</pre>
<p>Note that if you want to create your own functions or classes that instantiate or build URIs from passed-in parameters, you'll need to see the section on <a href="#location-aware-custom-classes">developing your own location-aware functions and classes</a>.</p>
</div>
		<h2><a id="properties" name="properties" href="#properties">Properties</a></h2>
		<p class="description"></p>
	<div class="property">
		<h3 class="signature"><a id="uri" name="uri" href="#uri">uri</a></h3>
		<p class="description">The file:/// URI of the URI instance (casting the URI object to a String gives the same result)</p>
		<div class="function-meta">
			<ul>
				<li>
<span class="name">Type:</span> <span class="comment">String</span>
</li>
				<li>
<span class="name">Access:</span> <span class="comment">Read/write</span>
</li>
			</ul>
			<p>The following example traces the uri's URI</p>
			<pre class="prettyprint lang-javascript">var uri = new URI('some file.jsfl');
trace(uri.uri); // same as trace(uri);;</pre>
			<pre>file:///E|/Projects/xJSFL/user/jsfl/some%20file.jsfl</pre>
</div>

	</div>
<div class="property">
		<h3 class="signature"><a id="path" name="path" href="#path">path</a></h3>
		<p class="description">The platform-specific path of the file or folder referred to by the URI instance</p>
		<div class="function-meta">
			<ul>
				<li>
<span class="name">Type:</span> <span class="comment">String</span>
</li>
				<li>
<span class="name">Access:</span> <span class="comment">Read</span>
</li>
			</ul>
		</div>
		<p>The following example traces teh uri's path (in path format):</p>
	<pre class="prettyprint lang-javascript">var uri = new URI('some file.jsfl');
trace(uri.path);</pre>
	<pre>E:/Projects/xJSFL/user/jsfl/some file.jsfl</pre>
	</div>

	<div class="property">
		<h3 class="signature"><a id="folder" name="folder" href="#folder">folder</a></h3>
		<p class="description">The folder path URI to the URI instance</p>
		<div class="function-meta">
			<ul>
				<li>
<span class="name">Type:</span> <span class="comment">String</span>
</li>
				<li>
<span class="name">Access:</span> <span class="comment">Read</span>
</li>
			</ul>
		</div>
		<p>The following example traces the uri's folder (in URI format):</p>
	<pre class="prettyprint lang-javascript">var uri = new URI('some file.jsfl');
trace(uri.folder);</pre>
	<pre>file:///E|/Projects/xJSFL/user/jsfl/	</pre>
	</div>

	<div class="property">
		<h3 class="signature"><a id="name" name="name" href="#name">name</a></h3>
		<p class="description">The name of the file or folder referred to by the URI instance</p>
		<div class="function-meta">
			<ul>
				<li>
<span class="name">Type:</span> <span class="comment">String</span>
</li>
				<li>
<span class="name">Access:</span> <span class="comment">Read</span>
</li>
			</ul>
		</div>
		<p>The following example traces the uri's file name:</p>
	<pre class="prettyprint lang-javascript">var uri = new URI('some file.jsfl');
trace(uri.name);</pre>
	<pre>some file.jsfl</pre>
</div>

	<div class="property">
		<h3 class="signature"><a id="extension" name="extension" href="#extension">extension</a></h3>
		<p class="description">The name of the file or folder referred to by the URI instance</p>
		<div class="function-meta">
			<ul>
				<li>
<span class="name">Type:</span> <span class="comment">String</span>
</li>
				<li>
<span class="name">Access:</span> <span class="comment">Read</span>
</li>
			</ul>
		</div>
		<p>The following example traces the uri's extension:</p>
	<pre class="prettyprint lang-javascript">var uri = new URI('some file.jsfl');
trace(uri.extension);</pre>
	<pre>txt</pre>
	</div>
	<div class="property">
		<h3 class="signature"><a id="type" name="type" href="#type">type</a></h3>
		<p class="description">The type of the URI, 'file' or 'folder'</p>
		<div class="function-meta">
			<ul>
				<li>
<span class="name">Type:</span> <span class="comment">String</span>
</li>
				<li>
<span class="name">Access:</span> <span class="comment">Read</span>
</li>
			</ul>
		</div>
		<p>The following example traces the uri's type:</p>
	<pre class="prettyprint lang-javascript">var uri = new URI('some file.jsfl');
trace(uri.type);</pre>
	<pre>file</pre>
	</div>

		<h2><a id="methods" name="methods" href="#methods">Methods</a></h2>
		<p class="description"></p>
	<div class="method">
		<h3 class="signature"><a id="getparent" name="getparent" href="#getparent">getParent()</a></h3>
		<p class="description">The parent folder of the file or folder referred to by the URI instance</p>
		<div class="function-meta">
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">URI</span> <span class="comment">The parent URI</span>
</li>
				</ul>
			</div>
		</div>
		<p>The following example inspects the uri's parent URI:</p>
	<pre class="prettyprint lang-javascript">var uri = new URI('some file.jsfl');
inspect(uri.getParent());</pre>
	<pre>Inspect: Unknown (depth:4, objects:0, values:6, time:0.0 seconds)<br>--------------------------------------------------------------------------------<br>object =&gt; Unknown<br>	 uri: &quot;file:///E|/Projects/xJSFL/user/jsfl/&quot;<br>	 folder: &quot;file:///E|/Projects/xJSFL/user/jsfl/&quot;<br>	 name: &quot;jsfl&quot;<br>	 extension: &quot;&quot;<br>	 path: &quot;E:/Projects/xJSFL/user/jsfl/&quot;<br>	 type: &quot;folder&quot;	</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="pathto" name="pathto" href="#pathto">pathTo(pathOrURI)</a></h3>
		<p class="description">Returns a new URI that resolves to the target path or URI</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">The target URI, such as '../../'</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">URI</span> <span class="comment">The new URI</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example traces the relative path from uriA to uriB:</p>
	<pre class="prettyprint lang-javascript">var uriA = new URI('E:/Projects/xJSFL/user/jsfl/some file.jsfl');<br>var uriB = new URI('E:/Projects/xJSFL/assets/text/some other file.txt');<br>trace(uriA.pathTo(uriB));</pre>
	<pre>../../assets/text/some%20other%20file.txt	</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="tostring" name="tostring" href="#tostring">toString()</a></h3>
		<p class="description">The URI string of the URI instance</p>
		<div class="function-meta">

			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">The string of the URI, i.e. file://path/to/file.txt</span>
</li>

				</ul>
			</div>
		</div>
		<p>The URI instance toString() method simply traces the internal URI, thus the URI instance can be used anywhere a URI-formatted string is expected.</p>
		<p>The following example traces the uri as a string:</p>
		<pre class="prettyprint lang-javascript">var uri = new URI('some file.jsfl');
trace(uri);</pre>
		<pre>file:///E|/Projects/xJSFL/user/jsfl/some%20file.jsfl</pre>
	</div>
		<h2><a id="static-methods" name="static-methods" href="#static-methods">Static methods</a></h2>
		<p class="description">A host of static utility functions that can be used to manipulate paths or URIs</p>
		<ul>
			<li>
<a href="#creation-functions">Creation functions</a>
				<ul>
					<li><a href="#touri">toURI(pathOrURI, context,  checkLength)</a></li>
					<li><a href="#topath">toPath(pathOrURI, shorten)</a></li>
				</ul>
			</li>
			<li>
<a href="#conversion-functions">Conversion functions</a>
				<ul>
					<li><a href="#asuri">asURI(pathOrURI, checkLength)</a></li>
					<li><a href="#aspath">asPath(pathOrURI, shorten)</a></li>
				</ul>
			</li>
			<li>
<a href="#testing-functions">Testing functions</a>
				<ul>
					<li><a href="#isuri">isURI(pathOrURI)</a></li>
					<li><a href="#ispath">isPath(pathOrURI)</a></li>
					<li><a href="#isabsolute">isAbsolute(pathOrURI)</a></li>
					<li><a href="#isrelative">isRelative(pathOrURI)</a></li>
					<li><a href="#isfile">isFile(pathOrURI)</a></li>
					<li><a href="#isfolder">isFolder(pathOrURI)</a></li>
					<li><a href="#isroot">isRoot(pathOrURI)</a></li>
				</ul>
			</li>
			<li>
<a href="#extraction-functions">Extraction functions</a>
				<ul>
					<li><a href="#getname">getName(pathOrURI, removeExtension)</a></li>
					<li><a href="#getextension">getExtension(pathOrURI)</a></li>
					<li><a href="#getfolder">getFolder(pathOrURI)</a></li>
					<li><a href="#uri-getparent">getParent(pathOrURI)</a></li>
					<li><a href="#getbranch">getBranch(src, trg)</a></li>
					<li><a href="#pathto">pathTo(src, trg)</a></li>
					<li><a href="#findfolder">findFolder(pathOrURI, folder)</a></li>
					<li><a href="#retarget">reTarget(src, trg, base)</a></li>
				</ul>
			</li>
			<li>
<a href="#utility-functions">Utility functions</a>		</li>
		</ul>
		<h2 class="description"><a id="creation-functions" name="creation-functions" href="#creation-functions">Creation functions</a></h2>
<p class="description">Creates URIs or paths from a wide variety of sources</p>
<ul>
	<li> <a href="#touri">toURI(pathOrURI, context,  checkLength)</a>
</li>
	<li><a href="#topath">toPath(pathOrURI, shorten)</a></li>
</ul>
	<div class="method">
		<h3 class="signature"><a id="touri" name="touri" href="#touri">toURI(pathOrURI, context, checkLength)</a></h3>
		<p class="description">Create a valid URI from virtually any URI or path</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A token, path or URI-formatted string</span>
</li>
					<li>
<span class="name">pathOrURI</span> <span class="type">Boolean</span> <span class="comment">A Boolean, to get the current file</span>
</li>
					<li>
<span class="name">context</span> <span class="type">String</span> <span class="comment">An optional uri or path context, from which to start the URI</span>
</li>
					<li>
<span class="name">context</span> <span class="type">File</span> <span class="comment">An optional File from which to start the URI</span>
</li>
					<li>
<span class="name">context</span> <span class="type">Folder</span> <span class="comment">An optional Folder from which to start the URI</span>
</li>
					<li>
<span class="name">context</span> <span class="type">Number</span> <span class="comment">An optional stack-function index, the location of which to derive the URI from</span>
</li>
					<li>
<span class="name">checkLength</span> <span class="type">Boolean</span> <span class="comment">An optional Boolean, to test resulting URIs are not longer than the 260 characters allowed for most FLfile operations. Defaults to true</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">An absolute URI</span>
</li>

				</ul>
			</div>
		</div>
		<p>URI.toURI() is the engine behind xJSFL's <a href="/support/guides/framework-basics/file-handling#uri-juggling">URI juggling</a>, converting a wide variety of paths, relative paths, fragments and  tokens to return absolute URIs that Flash can process. It:</p>
		<ul>
			<li>Converts paths to URIs (or simply returns tidied URIs)</li>
			<li>Automatically (or manually) resolves relative paths - to the calling file, or a supplied context</li>
			<li>Resolves // to the xJSFL root folder</li>
			<li>Expands registered {placeholder} variables such as:
				<ul>
					<li>
<strong>{xjsfl}</strong> - the xJSFL/ folder</li>
					<li>
<strong>{core}</strong> - the xJSFL/core/ folder</li>
					<li>
<strong>{modules}</strong> - the xJSFL/modules/ folder</li>
					<li>
<strong>{user}</strong> - the xJSFL/user/ folder</li>
					<li>
<strong>{flash}</strong> - the user's Flash Configuration/ folder</li>
					<li>
<strong>{swf}</strong> - the user's Flash Configuration/WindowSWF/ folder			</li>
				</ul>
			</li>
			<li>Tidies badly-formatted paths</li>
			<li>Throws errors for paths that are too long (FLfile has a 260 character limit)</li>
		</ul>
<p>URI.toURI() has a couple of shortcuts to get the current URI.</p>
<p>The following example returns the URI of the currently-running script:</p>
<pre class="prettyprint lang-javascript">trace(URI.toURI(true));		// gets the currently-running script's URI
trace(URI.toURI(''));		// gets the currently-running script's folder URI</pre>
<pre>file:///E|/Projects/xJSFL/user/jsfl/test.jsfl
file:///E|/Projects/xJSFL/user/jsfl/</pre>
<p>The following example creates URIs from various sources:</p>
<pre class="prettyprint lang-javascript">var sources =<br>{<br>	'uri        ' : 'file:///E|/uri/to/file.txt',<br>	'pc drive   ' : 'E:/windows/drive/path/to/file.txt',<br>	'mac drive  ' : 'Macintosh HD:/drive/path/to/file.txt',<br>	'absolute   ' : 'E:/absolute/path/to/file.txt',<br>	'sibling    ' : 'sibling.txt',<br>	'child      ' : 'path/to/child.txt',<br>	'parent     ' : '../parent.txt',<br>	'grandparent' : '../../grandparent.txt',<br>	'file       ' : 'file.txt',<br>	'folder     ' : 'folder/',<br>	'root       ' : 'E:/',<br>	'token      ' : '{flash}token.txt',<br>	'folder root' : '/folder root.txt',<br>	'xjsfl root ' : '//xjsfl root.txt',
	'mixed      ' : 'c:/path/to/../file.txt',<br>	'untidy     ' : 'c:/path\\to\\../file.txt',<br>};

for(var name in sources)
{
	trace(name + ' : ' + URI.toURI(sources[name]));
}</pre>
	<pre>uri         : file:///E|/uri/to/file.txt<br>pc drive    : file:///E|/windows/drive/path/to/file.txt<br>mac drive   : file:///Macintosh%20HD/drive/path/to/file.txt<br>absolute    : file:///E|/absolute/path/to/file.txt<br>sibling     : file:///E|/Projects/xJSFL/user/jsfl/sibling.txt<br>child       : file:///E|/Projects/xJSFL/user/jsfl/path/to/child.txt<br>parent      : file:///E|/Projects/xJSFL/user/parent.txt<br>grandparent : file:///E|/Projects/xJSFL/grandparent.txt<br>file        : file:///E|/Projects/xJSFL/user/jsfl/file.txt<br>folder      : file:///E|/Projects/xJSFL/user/jsfl/folder/
root        : file:///E|/<br>token       : file:///F|/Users/Dave%20Stewart/AppData/Local/Adobe/Flash%20CS4/en/Configuration/token.txt<br>folder root : file:///E|/Projects/xJSFL/user/folder%20root.txt<br>xjsfl root  : file:///E|/Projects/xJSFL/xjsfl%20root.txt
mixed       : file:///c|/path/file.txt<br>untidy      : file:///c|/path/file.txt<br></pre>
	<p>Note that if you want to create your own functions or classes that instantiate or build URIs from passed-in parameters, you'll need to see the section on <a href="#location-aware-custom-classes">developing your own location-aware functions and classes</a>.</p>
	<p><br>
	</p>
</div>
	<div class="method">
		<h3 class="signature"><a id="topath" name="topath" href="#topath">toPath(pathOrURI, shorten)</a></h3>
		<p class="description">Create a valid path from virtually any URI or path, and has the same functionality of URI.toURI()</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A token, path or URI-formatted string</span>
</li>
					<li>
<span class="name">shorten</span> <span class="type">Boolean</span> <span class="comment">An optional Boolean to return a path with {placeholder} variables for registered URIs</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">An absolute, or shortened path</span>
</li>

				</ul>
			</div>
		</div>
		<p>URI.toPath() is the path-specific counterpart to  <a href="#uri-touri">URI.toURI()</a>:</p>
		<ul>
			<li>Provides the same functionality that <a href="#uri-touri">URI.toURI()</a> provides</li>
			<li>Tidies badly-formatted paths</li>
			<li>Converts Windows backlashes to forward slashes</li>
			<li>Optionally shortens relevent absolute paths to {token}paths/to/file.txt</li>
		</ul>
<p>The following example creates paths from various sources:</p>
	<pre class="prettyprint lang-javascript">var sources =<br>{<br>	'uri        ' : 'file:///E|/uri/to/file.txt',<br>	'pc drive   ' : 'E:/windows/drive/path/to/file.txt',<br>	'mac drive  ' : 'Macintosh HD:/drive/path/to/file.txt',<br>	'absolute   ' : 'E:/absolute/path/to/file.txt',<br>	'sibling    ' : 'sibling.txt',<br>	'child      ' : 'path/to/child.txt',<br>	'parent     ' : '../parent.txt',<br>	'grandparent' : '../../grandparent.txt',<br>	'file       ' : 'file.txt',<br>	'folder     ' : 'folder/',<br>	'root       ' : 'E:/',<br>	'token      ' : '{flash}token.txt',<br>	'folder root' : '/folder root.txt',<br>	'xjsfl root ' : '//xjsfl root.txt',<br>	'mixed      ' : 'c:/path/to/../file.txt',<br>	'untidy     ' : 'c:/path\\to\\../file.txt',
};

for(var name in sources)<br>{<br>	trace(name + ' : ' + URI.toPath(sources[name]));<br>}<br></pre>
	<pre>uri         : E:/uri/to/file.txt<br>pc drive    : E:/windows/drive/path/to/file.txt<br>mac drive   : Macintosh HD/drive/path/to/file.txt<br>absolute    : E:/absolute/path/to/file.txt<br>sibling     : E:/Projects/xJSFL/user/jsfl/sibling.txt<br>child       : E:/Projects/xJSFL/user/jsfl/path/to/child.txt<br>parent      : E:/Projects/xJSFL/user/parent.txt<br>grandparent : E:/Projects/xJSFL/grandparent.txt<br>file        : E:/Projects/xJSFL/user/jsfl/file.txt<br>folder      : E:/Projects/xJSFL/user/jsfl/folder/<br>root        : E:/<br>token       : F:/Users/Dave Stewart/AppData/Local/Adobe/Flash CS4/en/Configuration/token.txt<br>folder root : E:/Projects/xJSFL/user/folder root.txt<br>xjsfl root  : E:/Projects/xJSFL/xjsfl root.txt
mixed       : c:/path/file.txt<br>untidy      : c:/path/file.txt<br></pre>
	</div>
		<h2><a id="conversion-functions" name="conversion-functions" href="#conversion-functions">Conversion functions</a></h2>
		<p class="description">Converts existing paths and URIs to paths (note that the conversion functions do not detect and convert relative paths)</p>
		<ul>
			<li><a href="#asuri">asURI(pathOrURI, checkLength)</a></li>
			<li><a href="#aspath">asPath(pathOrURI, shorten)</a></li>
		</ul>
<div class="method">
<h3 class="signature"><a id="asuri" name="asuri" href="#asuri">asURI(pathOrURI, checkLength)</a></h3>
		<p class="description">Perform simple path to URI conversion</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">path</span> <span class="type">String</span> <span class="comment">A valid path</span>
</li>
					<li>
<span class="name">checkLength</span> <span class="type">Boolean</span> <span class="comment">An optional Boolean, to test resulting URIs are not longer than the 260 characters allowed for most FLfile operations. Defaults to true</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">A URI-formatted string</span>
</li>

				</ul>
			</div>
		</div>
	<p>The following example converts URIs from various sources (note how only correctly-formatted paths are converted):</p>
	<pre class="prettyprint lang-javascript">var sources =<br>{<br>	'uri        ' : 'file:///E|/uri/to/file.txt',<br>	'pc drive   ' : 'E:/windows/drive/path/to/file.txt',<br>	'mac drive  ' : 'Macintosh HD:/drive/path/to/file.txt',<br>	'absolute   ' : 'E:/absolute/path/to/file.txt',<br>	'sibling    ' : 'sibling.txt',<br>	'child      ' : 'path/to/child.txt',<br>	'parent     ' : '../parent.txt',<br>	'grandparent' : '../../grandparent.txt',<br>	'file       ' : 'file.txt',<br>	'folder     ' : 'folder/',<br>	'root       ' : 'E:/',<br>	'token      ' : '{flash}token.txt',<br>	'folder root' : '/folder root.txt',<br>	'xjsfl root ' : '//xjsfl root.txt',<br>	'mixed      ' : 'c:/path/to/../file.txt',<br>	'untidy     ' : 'c:/path\\to\\../file.txt',
};

for(var name in sources)
{
	trace(name + ' : ' + URI.asURI(sources[name]));
}</pre>
	<pre>uri         : file:///E|/uri/to/file.txt
pc drive    : file:///E|/windows/drive/path/to/file.txt
mac drive   : file:///Macintosh%20HD:/drive/path/to/file.txt
absolute    : file:///E|/absolute/path/to/file.txt
sibling     : file:///sibling.txt
child       : file:///path/to/child.txt
parent      : file:///../parent.txt
grandparent : file:///../../grandparent.txt
file        : file:///file.txt
folder      : file:///folder/
root        : file:///E|/<br>token       : file:///{flash}token.txt
folder root : file:////folder%20root.txt
xjsfl root  : file:////xjsfl%20root.txt
mixed       : file:///c|/path/to/../file.txt<br>untidy      : file:///c|/path/to/../file.txt</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="aspath" name="aspath" href="#aspath">asPath(pathOrURI, shorten)</a></h3>
		<p class="description">Perform simple URI to path conversion</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">uri</span> <span class="type">String</span> <span class="comment">A valid URI string</span>
</li>
					<li>
<span class="name">uri</span> <span class="type">URI</span> <span class="comment">A valid URI instance</span>
</li>
					<li>
<span class="name">shorten</span> <span class="type">Boolean</span> <span class="comment">An optional Boolean to return a path with {placeholder} variables for registered URIs</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">A path-formatted string</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example converts paths from various sources (note how only correctly-formatted paths are converted):</p>
	<pre class="prettyprint lang-javascript">var sources =<br>{<br>	'uri        ' : 'file:///E|/uri/to/file.txt',<br>	'pc drive   ' : 'E:/windows/drive/path/to/file.txt',<br>	'mac drive  ' : 'Macintosh HD:/drive/path/to/file.txt',<br>	'absolute   ' : 'E:/absolute/path/to/file.txt',<br>	'sibling    ' : 'sibling.txt',<br>	'child      ' : 'path/to/child.txt',<br>	'parent     ' : '../parent.txt',<br>	'grandparent' : '../../grandparent.txt',<br>	'file       ' : 'file.txt',<br>	'folder     ' : 'folder/',<br>	'root       ' : 'E:/',<br>	'token      ' : '{flash}token.txt',<br>	'folder root' : '/folder root.txt',<br>	'xjsfl root ' : '//xjsfl root.txt',<br>	'mixed      ' : 'c:/path/to/../file.txt',<br>	'untidy     ' : 'c:/path\\to\\../file.txt',
};

for(var name in sources)
{
	trace(name + ' : ' + URI.asPath(sources[name]));
}</pre>
	<pre>uri         : E:/uri/to/file.txt
pc drive    : E:/windows/drive/path/to/file.txt
mac drive   : Macintosh HD:/drive/path/to/file.txt
absolute    : E:/absolute/path/to/file.txt
sibling     : sibling.txt
child       : path/to/child.txt
parent      : ../parent.txt
grandparent : ../../grandparent.txt
file        : file.txt
folder      : folder/
token       : {flash}token.txt
folder root : /folder root.txt
xjsfl root  : //xjsfl root.txt
mixed       : c:/path/to/../file.txt<br>untidy      : c:/path/to/../file.txt</pre>
	</div>
		<h2><a id="testing-functions" name="testing-functions" href="#testing-functions">Testing functions</a></h2>
		<p class="description">The following functions test if a path or URI is absolute, relative, a file, folder, etc.</p>
<ul>
			<li><a href="#isuri">isURI(pathOrURI)</a></li>
			<li><a href="#ispath">isPath(pathOrURI)</a></li>
			<li><a href="#isabsolute">isAbsolute(pathOrURI)</a></li>
			<li><a href="#isrelative">isRelative(pathOrURI)</a></li>
			<li><a href="#isfile">isFile(pathOrURI)</a></li>
			<li><a href="#isfolder">isFolder(pathOrURI)</a></li>
			<li><a href="#isroot">isRoot(pathOrURI)</a></li>
</ul>
	<div class="method">
		<h3 class="signature"><a id="isuri" name="isuri" href="#isuri">isURI(pathOrURI)</a></h3>
		<p class="description">Test if the supplied value is a URI-formatted string</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A valid path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true or false, depending on the result</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example checks which sources are URIs:</p>
	<pre class="prettyprint lang-javascript">var sources =
{
	'uri        ' : 'file:///E|/uri/to/file.txt',
	'absolute   ' : 'E:/absolute/path/to/file.txt',
	'relative   ' : 'path/to/file.txt',
	'file       ' : 'file.txt',
	'folder     ' : 'folder/',
	'root       ' : 'E:/',
	'token      ' : '{flash}token.txt',
	'folder root' : '/folder root.txt',
	'xjsfl root ' : '//xjsfl root.txt'
};

for(var name in sources)
{
	trace(name + ' : ' + URI.isURI(sources[name]));
}</pre>
	<pre>uri         : true<br>absolute    : false<br>relative    : false<br>file        : false<br>folder      : false<br>root        : false<br>token       : false<br>folder root : false<br>xjsfl root  : false</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="ispath" name="ispath" href="#ispath">isPath(pathOrURI)</a></h3>
		<p class="description">Test if the supplied value is a path-formatted string, such as c:/path/to/file.txt or /path</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A valid path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true or false, depending on the result</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example checks which sources are paths:</p>
	<pre class="prettyprint lang-javascript">var sources =
{
	'uri        ' : 'file:///E|/uri/to/file.txt',
	'absolute   ' : 'E:/absolute/path/to/file.txt',
	'relative   ' : 'path/to/file.txt',
	'file       ' : 'file.txt',
	'folder     ' : 'folder/',
	'root       ' : 'E:/',
	'token      ' : '{flash}token.txt',
	'folder root' : '/folder root.txt',
	'xjsfl root ' : '//xjsfl root.txt'
};

for(var name in sources)
{
	trace(name + ' : ' + URI.isPath(sources[name]));
}</pre>
	<pre>uri         : false<br>absolute    : true<br>relative    : true<br>file        : true<br>folder      : true
root        : true<br>token       : true<br>folder root : true<br>xjsfl root  : true</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="isabsolute" name="isabsolute" href="#isabsolute">isAbsolute(pathOrURI)</a></h3>
		<p class="description">Tests if a path or URI is absolute (includes tokens and special xJSFL syntax)</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A valid path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true or false, depending on the result</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example checks which sources are absolute:</p>
	<pre class="prettyprint lang-javascript">var sources =
{
	'uri        ' : 'file:///E|/uri/to/file.txt',
	'absolute   ' : 'E:/absolute/path/to/file.txt',
	'relative   ' : 'path/to/file.txt',
	'file       ' : 'file.txt',
	'folder     ' : 'folder/',
	'root       ' : 'E:/',
	'token      ' : '{flash}token.txt',
	'folder root' : '/folder root.txt',
	'xjsfl root ' : '//xjsfl root.txt'
};

for(var name in sources)
{
	trace(name + ' : ' + URI.isAbsolute(sources[name]));
}</pre>
	<pre>uri         : true<br>absolute    : true<br>relative    : false<br>file        : false<br>folder      : false
root        : true<br>token       : true<br>folder root : true<br>xjsfl root  : true	</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="isrelative" name="isrelative" href="#isrelative">isRelative(pathOrURI)</a></h3>
		<p class="description">Tests if a path or URI is relative (includes tokens and special xJSFL syntax)</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A valid path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true or false, depending on the result</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example checks which sources are relative:</p>
	<pre class="prettyprint lang-javascript">var sources =
{
	'uri        ' : 'file:///E|/uri/to/file.txt',
	'absolute   ' : 'E:/absolute/path/to/file.txt',
	'relative   ' : 'path/to/file.txt',
	'file       ' : 'file.txt',
	'folder     ' : 'folder/',
	'root       ' : 'E:/',
	'token      ' : '{flash}token.txt',
	'folder root' : '/folder root.txt',
	'xjsfl root ' : '//xjsfl root.txt'
};

for(var name in sources)
{
	trace(name + ' : ' + URI.isRelative(sources[name]));
}</pre>
	<pre>uri         : false<br>absolute    : false<br>relative    : true<br>file        : true<br>folder      : true<br>root        : false
token       : false<br>folder root : false<br>xjsfl root  : false</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="isfile" name="isfile" href="#isfile">isFile(pathOrURI)</a></h3>
		<p class="description">Tests if a path or URI looks like a filename, rather than a folder</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A valid path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true or false, depending on the result</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example checks which sources are files:</p>
	<pre class="prettyprint lang-javascript">var sources =
{
	'uri        ' : 'file:///E|/uri/to/file.txt',
	'absolute   ' : 'E:/absolute/path/to/file.txt',
	'relative   ' : 'path/to/file.txt',
	'file       ' : 'file.txt',
	'folder     ' : 'folder/',
	'root       ' : 'E:/',
	'token      ' : '{flash}token.txt',
	'folder root' : '/folder root.txt',
	'xjsfl root ' : '//xjsfl root.txt'
};

for(var name in sources)
{
	trace(name + ' : ' + URI.isFile(sources[name]));
}</pre>
	<pre>uri         : true<br>absolute    : true<br>relative    : true<br>file        : true<br>folder      : false<br>root        : false<br>token       : true<br>folder root : true<br>xjsfl root  : true	</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="isfolder" name="isfolder" href="#isfolder">isFolder(pathOrURI)</a></h3>
		<p class="description">Tests if a path or URI looks like a folder, rather than a filename</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A valid path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true or false, depending on the result</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example checks which sources are folders:</p>
	<pre class="prettyprint lang-javascript">var sources =
{
	'uri        ' : 'file:///E|/uri/to/file.txt',
	'absolute   ' : 'E:/absolute/path/to/file.txt',
	'relative   ' : 'path/to/file.txt',
	'file       ' : 'file.txt',
	'folder     ' : 'folder/',
	'root       ' : 'E:/',<br>	'token      ' : '{flash}token.txt',
	'folder root' : '/folder root.txt',
	'xjsfl root ' : '//xjsfl root.txt'
};

for(var name in sources)
{
	trace(name + ' : ' + URI.isFolder(sources[name]));
}</pre>
	<pre>uri         : false<br>absolute    : false<br>relative    : false<br>file        : false<br>folder      : true
root        : true<br>token       : false<br>folder root : false<br>xjsfl root  : false	</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="isroot" name="isroot" href="#isroot">isRoot(pathOrURI)</a></h3>
		<p class="description">Tests if a path or URI is at the highest folder level it can go</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A valid path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true or false, depending on the result</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example checks which sources are drive roots:</p>
	<pre class="prettyprint lang-javascript">var sources =
{
	'uri        ' : 'file:///E|/uri/to/file.txt',
	'absolute   ' : 'E:/absolute/path/to/file.txt',
	'relative   ' : 'path/to/file.txt',
	'file       ' : 'file.txt',
	'folder     ' : 'folder/',
	'root       ' : 'E:/',<br>	'token      ' : '{flash}token.txt',
	'folder root' : '/folder root.txt',
	'xjsfl root ' : '//xjsfl root.txt'
};

for(var name in sources)
{
	trace(name + ' : ' + URI.isRoot(sources[name]));
}</pre>
	<pre>uri         : false<br>absolute    : false<br>relative    : false<br>file        : false<br>folder      : false<br>root        : true
token       : false<br>folder root : false<br>xjsfl root  : false</pre>
	</div>
		<h2><a id="extraction-functions" name="extraction-functions" href="#extraction-functions">Extraction functions</a></h2>
		<p class="description">The following functions extract a property from a path or URI		</p>
		<ul>
			<li><a href="#getname">getName(pathOrURI, removeExtension)</a></li>
			<li><a href="#getextension">getExtension(pathOrURI)</a></li>
			<li><a href="#getfolder">getFolder(pathOrURI)</a></li>
			<li><a href="#uri-getparent">getParent(pathOrURI)</a></li>
			<li><a href="#getbranch">getBranch(src, trg)</a></li>
			<li><a href="#pathto">pathTo(src, trg)</a></li>
			<li><a href="#findfolder">findFolder(pathOrURI, folder)</a></li>
			<li><a href="#retarget">reTarget(src, trg, base)</a></li>
		</ul>
	<div class="method">
		<h3 class="signature"><a id="getname" name="getname" href="#getname">getName(pathOrURI, removeExtension)</a></h3>
		<p class="description">Returns the file or folder name of the item referenced by the path or URI (note names are unescaped)</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A vald path or URI</span>
</li>
					<li>
<span class="name">removeExtension</span> <span class="type">Boolean</span> <span class="comment">An optional Boolean to remove the extension</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">The file or folder name</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example gets the file or folder names from various sources:</p>
	<pre class="prettyprint lang-javascript">var sources =<br>{<br>	'uri        ' : 'file:///E|/uri/to/file.txt',<br>	'absolute   ' : 'E:/absolute/path/to/file.txt',<br>	'relative   ' : 'path/to/file.txt',<br>	'file       ' : 'file.txt',<br>	'folder     ' : 'folder/',<br>	'root       ' : 'E:/',<br>	'token      ' : '{flash}token.txt',<br>	'folder root' : '/folder root.txt',<br>	'xjsfl root ' : '//xjsfl root.txt'<br>};<br>
for(var name in sources)
{
	trace(name + ' : ' + URI.getName(sources[name]));
}</pre>
	<pre>uri         : file.txt<br>absolute    : file.txt<br>relative    : file.txt<br>file        : file.txt<br>folder      : folder<br>root        : E:<br>token       : {flash}token.txt<br>folder root : folder root.txt<br>xjsfl root  : xjsfl root.txt	</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="getextension" name="getextension" href="#getextension">getExtension(pathOrURI)</a></h3>
		<p class="description">Returns the file extension</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A vald path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">The file extensions</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example gets the extensions (if they have them) from various sources:</p>
	<pre class="prettyprint lang-javascript">var sources =<br>{<br>	'uri        ' : 'file:///E|/uri/to/file.txt',<br>	'absolute   ' : 'E:/absolute/path/to/file.txt',<br>	'relative   ' : 'path/to/file.txt',<br>	'file       ' : 'file.txt',<br>	'folder     ' : 'folder/',<br>	'root       ' : 'E:/',<br>	'token      ' : '{flash}token.txt',<br>	'folder root' : '/folder root.txt',<br>	'xjsfl root ' : '//xjsfl root.txt'<br>};<br>
for(var name in sources)
{
	trace(name + ' : ' + URI.getExtension(sources[name]));
}</pre>
	<pre>uri         : txt<br>absolute    : txt<br>relative    : txt<br>file        : txt<br>folder      : <br>root        : <br>token       : txt<br>folder root : txt<br>xjsfl root  : txt	</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="getfolder" name="getfolder" href="#getfolder">getFolder(pathOrURI)</a></h3>
		<p class="description">Returns the current folder path of the item referenced by the path or URI</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A valid path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">The folder of the path or URI</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example gets the folder path from various sources (note the subtle difference for the folder uri to <a href="#uri-getparent">getParent()</a>)::</p>
	<pre class="prettyprint lang-javascript">var sources =<br>{<br>	'uri        ' : 'file:///E|/uri/to/file.txt',<br>	'folder uri ' : 'file:///E|/uri/to/',
	'absolute   ' : 'E:/absolute/path/to/file.txt',<br>	'relative   ' : 'path/to/file.txt',<br>	'file       ' : 'file.txt',<br>	'folder     ' : 'folder/',<br>	'root       ' : 'E:/',<br>	'token      ' : '{flash}token.txt',<br>	'folder root' : '/folder root.txt',<br>	'xjsfl root ' : '//xjsfl root.txt'<br>};<br>
for(var name in sources)
{
	trace(name + ' : ' + URI.getFolder(sources[name]));
}</pre>
	<pre>uri         : file:///E|/uri/to/<br>folder uri  : file:///E|/uri/to/<br>absolute    : E:/absolute/path/to/<br>relative    : path/to/<br>file        : <br>folder      : folder/<br>root        : E:/<br>token       : <br>folder root : /<br>xjsfl root  : //	</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="uri-getparent" name="uri-getparent" href="#uri-getparent">getParent(pathOrURI)</a></h3>
		<p class="description">Returns the parent folder of the item referenced by the path or URI (for folders, this is the parent folder)</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A valid path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">The folder of the path or URI</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example gets the parent folder path from various sources (note the subtle difference for the folder uri to <a href="#uri-getfolder">getFolder()</a>)::</p>
	<pre class="prettyprint lang-javascript">var sources =<br>{<br>	'uri        ' : 'file:///E|/uri/to/file.txt',<br>	'folder uri ' : 'file:///E|/uri/to/',<br>	'absolute   ' : 'E:/absolute/path/to/file.txt',<br>	'relative   ' : 'path/to/file.txt',<br>	'file       ' : 'file.txt',<br>	'folder     ' : 'folder/',<br>	'root       ' : 'E:/',<br>	'token      ' : '{flash}token.txt',<br>	'folder root' : '/folder root.txt',<br>	'xjsfl root ' : '//xjsfl root.txt'<br>};<br>
for(var name in sources)
{
	trace(name + ' : ' + URI.getParent(sources[name]));
}</pre>
	<pre>uri         : file:///E|/uri/to/<br>folder uri  : file:///E|/uri/<br>absolute    : E:/absolute/path/to/<br>relative    : path/to/<br>file        : <br>folder      : <br>root        : E:/<br>token       : <br>folder root : /<br>xjsfl root  : //	</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="getbranch" name="getbranch" href="#getbranch">getBranch(src, trg)</a></h3>
		<p class="description">Resolves the common (branch) path between 2 paths or URIs</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">src</span> <span class="type">String</span> <span class="comment">A source path or URI</span>
</li>
					<li>
<span class="name">trg</span> <span class="type">String</span> <span class="comment">A target path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">The common ancestor path or URI</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example gets the common branch between various sources:</p>
	<pre class="prettyprint lang-javascript">var uriA = 'file:///C|/a/b/c/file.txt';
var uriB = 'file:///C|/a/b/c/d/e/file.txt';
var uriC = 'file:///X|/a/b/c/d/e/f/g/file.txt';

trace('> ' + URI.getBranch(uriA, uriB));
trace('> ' + URI.getBranch(uriB, uriC));

var pathA = 'C:/a/b/c/file.txt';
var pathB = 'C:/a/b/c/d/e/file.txt';
var pathC = 'X:/a/b/c/d/e/f/g/file.txt';

trace('> ' + URI.getBranch(pathA, pathB));
trace('> ' + URI.getBranch(pathB, pathC));
</pre>
	<pre>&gt; file:///C|/a/b/c/<br>&gt;
<br>&gt; C:/a/b/c/<br>&gt; </pre>
</div>
	<div class="method">
		<h3 class="signature"><a id="pathto" name="pathto" href="#pathto">pathTo(src, trg)</a></h3>
		<p class="description">Resolves a path from the Source URI to a target URI, returning a relative path-formatted path</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">src</span> <span class="type">String</span> <span class="comment">The source path or URI</span>
</li>
					<li>
<span class="name">trg</span> <span class="type">String</span> <span class="comment">The target path or URI</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">The new relative path between the two, or the absolute URI if there's no relationship</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example gets the path from various sources to each other:</p>
	<pre class="prettyprint lang-javascript">var uriA = 'file:///C|/a/b/c/file.txt';
var uriB = 'file:///C|/a/b/c/d/e/file.txt';
var uriC = 'file:///X|/a/b/c/d/e/f/g/file.txt';

trace('> ' + URI.pathTo(uriA, uriB));
trace('> ' + URI.pathTo(uriB, uriA));
trace('> ' + URI.pathTo(uriB, uriC));

var pathA = 'C:/a/b/c/file.txt';
var pathB = 'C:/a/b/c/d/e/file.txt';
var pathC = 'X:/a/b/c/d/e/f/g/file.txt';

trace('> ' + URI.pathTo(pathA, pathB));
trace('> ' + URI.pathTo(pathB, pathA));
trace('> ' + URI.pathTo(pathB, pathC));</pre>
	<pre>&gt; d/e/file.txt<br>&gt; ../../file.txt<br>&gt; X:/a/b/c/d/e/f/g/file.txt
<br>&gt; d/e/file.txt<br>&gt; ../../file.txt<br>&gt; X:/a/b/c/d/e/f/g/file.txt<br></pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="findfolder" name="findfolder" href="#findfolder">findFolder(pathOrURI, folder)</a></h3>
		<p class="description">Returns the path or URI truncated to the supplied folder name or path</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">pathOrURI</span> <span class="type">String</span> <span class="comment">A path or URI string</span>
</li>
					<li>
<span class="name">pathOrURI</span> <span class="type">URI</span> <span class="comment">A URI instance</span>
</li>
					<li>
<span class="name">folder</span> <span class="type">String</span> <span class="comment">The name or partial name of a folder to find in the path</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">The new URI or path</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example gets the absolute path or URI by supplying a folder name to search for, for various sources:</p>
	<pre class="prettyprint lang-javascript">var uri = 'file:///C|/some/long/path/to/file.txt';
var path = 'C:/some/long/path/to/file.txt';

trace(URI.findFolder(uri, 'to'));
trace(URI.findFolder(path, 'to'));</pre>
	<pre>file:///C|/some/long/path/to/<br>C:/some/long/path/to/	</pre>
	</div>
	<div class="method">
		<h3 class="signature"><a id="retarget" name="retarget" href="#retarget">reTarget(src, trg, base)</a></h3>
		<p class="description">Re-targets a specified portion of a URI (or URIs) to point at a new folder</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">src</span> <span class="type">String</span> <span class="comment">The source path or URI</span>
</li>
					<li>
<span class="name">trg</span> <span class="type">String</span> <span class="comment">A folder you want to retarget to, from the source base and downwards</span>
</li>
					<li>
<span class="name">base</span> <span class="type">String</span> <span class="comment">The name or partial name of a folder in the src path or URI you want to branch from</span>
</li>

				</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">String</span> <span class="comment">The new path or URI</span>
</li>
					<li>
<span class="name">&nbsp;</span> <span class="type">Array</span> <span class="comment">An Array of new paths or URIs</span>
</li>

				</ul>
			</div>
		</div>
		<p>URI.reTarget() is mainly used when copying a tree of files from one folder to another, which need to retain their nested folder structure.</p>
		<p>The <strong>base</strong> parameter is the branch where the <strong>source</strong> parameter should be &quot;snipped off&quot; and re-attached to the <strong>target</strong> parameter:</p>
		<pre>base:   <span class="prettyprint lang-javascript"><strong>file:///E|/Projects/xJSFL/core/install/</strong></span>

source: <span class="prettyprint lang-javascript">file:///E|/Projects/xJSFL/core/install/<strong>assets/some/file.txt</strong></span>
                                               ^
                                               1: Cut source at base...
target: <span class="prettyprint lang-javascript"><strong>file:///C|flash/xJSFL/</strong></span>
<span class="prettyprint lang-javascript">                              assets/some/file.txt</span>
                              ^
                              2: ...then attach to target!</pre>
		<p>The following example demonstrates creating the URIs needed to copy a tree from an xJSFL installation folder to a (threoretical) Flash folder:</p>
<pre class="prettyprint lang-javascript">var sources =
[
	'file:///E|/Projects/xJSFL/core/install/assets/some/file_1.txt',
	'file:///E|/Projects/xJSFL/core/install/assets/some/file_2.txt',
	'file:///E|/Projects/xJSFL/core/install/assets/some/file_3.txt',
];
var target = 'file:///C|flash/xJSFL/';
var base   = 'file:///E|/Projects/xJSFL/core/install/';

for each(var source in sources)
{
	trace(URI.reTarget(source, target, base));
}</pre>
<pre>file:///C|flash/xJSFL/assets/<span class="prettyprint lang-javascript">some/</span>file_1.txt<br>file:///C|flash/xJSFL/assets/<span class="prettyprint lang-javascript">some/</span>file_2.txt<br>file:///C|flash/xJSFL/assets/<span class="prettyprint lang-javascript">some/</span>file_3.txt</pre>
</div>


			</div>



	</div>
<!--end post-entry-->





<div class="comment-entry post-entry">

	<p>Comments are closed.</p>



</div>

				<!--end content-->
				</div>

				<div class="sidebar sidebar1 grid3">
<span class="sidebar_top"><!-- needed for smooth start of sidebar background--></span><span class="sidebar_bottom"><!-- needed for smooth end of sidebar background--></span><div id="text-4" class="widget widget_text">			<div class="textwidget"></div>
		</div>
</div>
			</div>
<!--end container-->

	</div>
	<!-- ####### END MAIN CONTAINER ####### -->


			<script src="/wp-content/themes/broadscope/js/custom.js"></script>


<!-- some parameters set in the backend and necessary for avia.js to work-->
<script type="text/javascript">
	var avia_autoplay = 'slideshow_autoplay';
	var avia_slideshow_controlls = 'slideshow_controlls';
	var avia_autoplay_duration   = '8';
</script>

			<!-- ####### FOOTER CONTAINER ####### -->
			<div class="container_wrap" id="footer">
				<div class="container">

					<div class="one_fifth first">
						<span class="arrow-down"></span>

		<div id="recent-posts-3" class="widget widget_recent_entries">
		<h4 class="widgettitle">Recent Posts</h4>
		<ul>
											<li>
					<a href="/blog/custom-icons-in-snippets-panel">Custom Icons in Snippets panel</a>
									</li>
											<li>
					<a href="/blog/publish-hooks-library-for-flash">Publish Hooks library for Flash</a>
									</li>
											<li>
					<a href="/support/tutorials/workflow/managing-code">Managing code</a>
									</li>
											<li>
					<a href="/blog/top-jsfl-bugs-to-fix">Top JSFL bugs to fix</a>
									</li>

					</ul>

		</div>					</div>
					<div class="one_fifth">
						<span class="arrow-down"></span>
						<div id="pages-2" class="widget widget_pages">
<h4 class="widgettitle">Pages</h4>
			<ul>
				<li class="page_item page-item-955"><a href="/case-studies">Case Studies</a></li>
<li class="page_item page-item-275"><a href="/contact">Contact</a></li>
<li class="page_item page-item-2"><a href="/download">Download</a></li>
<li class="page_item page-item-846"><a href="/license">Licensing</a></li><li class="page_item page-item-945"><a href="/roadmap">Roadmap</a></li>
<li class="page_item page-item-380"><a href="/support">Support</a></li>
<li class="page_item page-item-711"><a href="/features">xJSFL Features</a></li>
			</ul>

			</div>					</div>
					<div class="one_fifth">
						<span class="arrow-down"></span>
						<div class="widget widget_archive">
<h3>Pages</h3>
<ul>
<li class="page_item page-item-955"><a href="/case-studies">Case Studies</a></li>
<li class="page_item page-item-846"><a href="/license">Licensing</a></li><li class="page_item page-item-945"><a href="/roadmap">Roadmap</a></li>
<li class="page_item page-item-711"><a href="/features">xJSFL Features</a></li>
<li class="page_item page-item-380"><a href="/support">Support</a></li>
<li class="page_item page-item-2"><a href="/download">Download</a></li>
<li class="page_item page-item-275"><a href="/contact">Contact</a></li>
</ul>
</div>					</div>
					<div class="one_fifth">
						<span class="arrow-down"></span>
						<div class="widget widget_archive">
<h3>Bookmarks</h3>
<ul>
<li><a href="https://help.adobe.com/en_US/Flash/10.0_ExtendingFlash/index.html">Adobe JSFL API</a></li>
<li><a href="https://www.adobe.com/devnet/flash/articles/invisible_button_02.html">Creating and packaging a professional JSFL command</a></li>
<li><a href="https://developer.mozilla.org/en/XUL_Reference">Mozilla XUL Reference</a></li>
</ul>
</div>					</div>

					<div class="one_fifth">
						<span class="arrow-down"></span>
						<div id="meta-2" class="widget widget_meta">
<h4 class="widgettitle">Meta</h4>
		<ul>
						<li><a href="/wp-login.php">Log in</a></li>
			<li><a href="/feed">Entries feed</a></li>
			<li><a href="/comments/feed">Comments feed</a></li>

			<li><a href="https://wordpress.org/">WordPress.org</a></li>
		</ul>

		</div>					</div>
				</div>

			</div>
		<!-- ####### END FOOTER CONTAINER ####### -->

		<!-- ####### SOCKET CONTAINER ####### -->
			<div class="container_wrap" id="socket">
				<div class="container">
					<span class="copyright">&copy; Copyright - <a href="/">xJSFL</a> - <a href="https://www.kriesi.at/">Theme Design by Kriesi.at</a></span>

					<ul class="social_bookmarks">
						<li class="rss"><a href="/feed">RSS</a></li>
						<li class="twitter"><a href="https://twitter.com/xjsfl">Twitter</a></li>
					</ul>
<!-- end social_bookmarks-->

				</div>
			</div>
			<!-- ####### END SOCKET CONTAINER ####### -->

		</div>
<!-- end wrap_all -->

<script type="text/javascript" src="/wp-content/ga.js"></script>
<script type="text/javascript" src="/wp-includes/js/wp-embed.min.js?ver=5.8.2" id="wp-embed-js"></script>
</body>
</html>
