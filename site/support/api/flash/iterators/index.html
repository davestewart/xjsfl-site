<!DOCTYPE html>
<html lang="en-US" prefix="og: https://ogp.me/ns#">
<head>
<meta charset="UTF-8">
<meta name="robots" content="index, follow">


<!-- page title, displayed in your browser bar -->

<link rel="shortcut icon" href="/favicon.png">

<!-- add feeds, pingback and stuff-->
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="alternate" type="application/rss+xml" title="xJSFL RSS2 Feed" href="/feed">
<link rel="pingback" href="/xmlrpc.php">


<!-- add css stylesheets -->
<link rel="stylesheet" type="text/css" media="all" href="/wp-content/themes/broadscope/style.css">
<link rel="stylesheet" href="/wp-content/themes/broadscope/js/prettyPhoto/css/prettyPhoto.css" type="text/css" media="screen">
<link rel="stylesheet" href="/wp-content/themes/broadscope/css/light-skin.css" type="text/css" media="screen">
<link rel="stylesheet" href="/wp-content/themes/broadscope/css/shortcodes.css" type="text/css" media="screen">

<!-- add google prettyprint code -->

<link href="/wp-content/themes/broadscope/js/google-code-prettify/css/prettify.css" type="text/css" rel="stylesheet">
<script src="/wp-content/themes/broadscope/js/google-code-prettify/js/prettify.js"></script>


<!-- plugin and theme output with wp_head() -->

		<!-- All in One SEO 4.1.5.3 -->
		<title>Iterators (library) | xJSFL</title>
		<meta name="description" content="Iterate through documents, items, timelines, layers, frames and elements">
		<meta name="robots" content="max-image-preview:large">
		<link rel="canonical" href="/support/api/flash/iterators">
		<meta property="og:locale" content="en_US">
		<meta property="og:site_name" content="xJSFL | The rapid development framework for extending Adobe Flash">
		<meta property="og:type" content="article">
		<meta property="og:title" content="Iterators (library) | xJSFL">
		<meta property="og:description" content="Iterate through documents, items, timelines, layers, frames and elements">
		<meta property="og:url" content="http://xjsfl.com/support/api/flash/iterators">
		<meta property="article:published_time" content="2011-07-04T04:05:00+00:00">
		<meta property="article:modified_time" content="2012-06-06T15:50:01+00:00">
		<meta name="twitter:card" content="summary">
		<meta name="twitter:domain" content="xjsfl.com">
		<meta name="twitter:title" content="Iterators (library) | xJSFL">
		<meta name="twitter:description" content="Iterate through documents, items, timelines, layers, frames and elements">
		<script type="text/javascript">
			window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
			ga('create', "UA-603607-7", 'auto');
			ga('send', 'pageview');
		</script>
		<script async src="https://www.google-analytics.com/analytics.js"></script>
		<!-- All in One SEO -->

<link rel="dns-prefetch" href="//s.w.org">
<link rel="alternate" type="application/rss+xml" title="xJSFL &raquo; Iterators (library) Comments Feed" href="/support/api/flash/iterators/feed">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/xjsfl.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.2"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
	<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=5.8.2" type="text/css" media="all">
<link rel="stylesheet" id="page-list-style-css" href="/wp-content/plugins/sitemap/css/page-list.css?ver=4.3" type="text/css" media="all">
<link rel="stylesheet" id="newsletter-css" href="/wp-content/plugins/newsletter/style.css?ver=7.3.4" type="text/css" media="all">
<style id="newsletter-inline-css" type="text/css">font-family:Arial, Verdana, Sans-Serif;</style>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js?ver=3.6.0" id="jquery-core-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2" id="jquery-migrate-js"></script>
<script type="text/javascript" src="/wp-content/themes/broadscope/js/tabsize.jquery.js?ver=5.8.2" id="tabsize-js"></script>
<script type="text/javascript" src="/wp-content/themes/broadscope/js/avia.js?ver=1" id="avia-default-js"></script>
<script type="text/javascript" src="/wp-content/themes/broadscope/js/prettyPhoto/js/jquery.prettyPhoto.js?ver=3.0.1" id="avia-prettyPhoto-js"></script>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/521">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 5.8.2">
<link rel="shortlink" href="/?p=521">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fsupport%2Fapi%2Fflash%2Fiterators">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fsupport%2Fapi%2Fflash%2Fiterators&#038;format=xml">
<script type="text/javascript"><!--//--><![CDATA[//><!--
function prepareTargetBlank() {
	var className = 'wpsi-blank';
	var as = document.getElementsByTagName('a');
	for(i=0;i<as.length;i++) {
		var a = as[i];
		r=new RegExp("(^| )"+className+"($| )");
		if(r.test(a.className)) {
			a.onclick = function() {
				window.open(this.href);
				return false;
			}
		}
	}
}
window.onload = prepareTargetBlank;
//--><!]]>
</script>
<!-- custom styles set at your backend-->
<style type="text/css">.bg-logo a, .contentSlideControlls .activeItem, .contentSlideControlls a:hover, #top .avia_mega ul ul li, #top .avia_mega >li >ul li, .widget_links li, .widget_meta li, .widget_archive li,  .widget_categories li, .widget_pages li, #top .more-link, .pagination .current, .pagination a, .button, .dropcap2, .featured, #commentform #submit{
background-color:#bf0b0b;
}

#top .more-link, .pagination .current, .pagination a, .button, #commentform #submit{
border-color:#bf0b0b;
}

a, .news-link:hover, .widget_archive li a:hover, #reply-title small a{
color:#bf0b0b;
}

#top .more-link:hover, .pagination a:hover, .button:hover, #commentform #submit:hover{
background-color:#1c8bba;
}

#top .more-link:hover, .pagination a:hover, .button:hover, #commentform #submit:hover{
border-color:#1c8bba;
}

a:hover{
color:#1c8bba;
}


body{
background-color:#f8f8f8;
}

body{
background-position:top left;
}

body{
background-repeat:no-repeat;
}

body{
background-attachment:scroll;
}</style>

<!-- end custom styles-->


<!-- @font-face stylesheets -->
<link href="/wp-content/themes/broadscope/framework/fonts/droidsans/stylesheet.css" rel="stylesheet" type="text/css">

<!-- custom.css file: use this file to add your own styles and overwrite the theme defaults -->
<link rel="stylesheet" href="/wp-content/themes/broadscope/css/custom.css" type="text/css" media="screen">
</head>



<body id="top" class="post-template-default single single-post postid-521 single-format-standard">

	<div id="wrap_all" class="boxed">

	<!-- ####### HEAD CONTAINER ####### -->
			<div class="container_wrap" id="header">

				<div class="container">

					<h1 class="logo"><a href="/"><img src="/wp-content/uploads/icon-wide-with-strap.png" alt=""></a></h1>
<form action="http://xjsfl.com/" id="searchform" method="get">
	<div>
		<input type="submit" value="" id="searchsubmit" class="button">
		<input type="text" id="s" name="s" value="">
	</div>
</form>
<!-- end searchform-->

					<ul class="social_bookmarks">
						<li class="rss"><a href="/feed">RSS</a></li>
						<li class="twitter"><a href="http://twitter.com/xjsfl">Twitter</a></li>
					</ul>
					<!-- end social_bookmarks-->

					<div class=" megaWrapper"><ul id="menu-main" class="avia_mega">
<li id="menu-item-400" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home"><a href="/home">Home</a></li>
<li id="menu-item-738" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/features">Features</a></li>
<li id="menu-item-954" class="menu-item menu-item-type-custom menu-item-object-custom"><a href="/case-studies">Case Studies</a></li>
<li id="menu-item-395" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/support">Support</a></li>
<li id="menu-item-946" class="menu-item menu-item-type-custom menu-item-object-custom"><a href="/roadmap">Roadmap</a></li>
<li id="menu-item-553" class="menu-item menu-item-type-custom menu-item-object-custom"><a href="/category/blog">Blog</a></li>
<li id="menu-item-398" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/contact">Contact</a></li>
<li id="menu-item-399" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/download">Download</a></li>
</ul></div>


				</div>
				<!-- end container-->

			</div>
			<!-- end container_wrap_header -->

			<!-- ####### END HEAD CONTAINER ####### -->

			<div class="container_wrap" id="featured">	<div class="container slideshow_container">
<div class="fullwidth_no_image"></div>	</div>
</div>
		<!-- ####### MAIN CONTAINER ####### -->
		<div class="container_wrap" id="main">

			<div class="container">

				<div id="template-blog" class="content grid8 first">


		<div class="post-entry">
			<h1 class="post-title">
				<a href="/support/api/flash/iterators" rel="bookmark" title="Permanent Link: Iterators (library)">Iterators (library)</a>
			</h1>

			<!--meta info-->
	        <div class="blog-meta one_fifth">

				<span class="post-date-comment-container">
					<span class="date-container">04<strong>Jul</strong>2011</span>
					<span class="comment-container"><a href="/support/api/flash/iterators#comments" class="comments-link"><strong>1</strong> Comment</a>					</span>

				</span>

				<span class="blog-categories"><strong>Categories:</strong><a href="/category/support/api/flash" rel="category tag">Flash</a></span>						</div>
<!--end meta info-->


			<div class="entry-content four_fifth">

<h2>Overview</h2>
<h3>Summary</h3>
	<p>The iterators library provides a standardized and  object-oriented approach to iterating over-and-into Documents, Timelines, Layers, (Key)Frames, and Elements.</p>
	<p>Note: to loop over and modify only Stage elements or Library items see the <a href="/support/api/elements/ElementCollection">ElementCollection</a> and <a href="/support/api/elements/ItemCollection">ItemCollection</a> classes.</p>
<h3>Contents</h3>
<ul>
<li><a href="#overview">Overview</a></li>
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#concept">Concept</a></li>
<li><a href="#processing-multiple-levels">Processing multiple levels</a></li>
<li><a href="#halting-or-skipping-processing-of-levels-branches">Halting or skipping processing of levels / branches</a></li>
</ul>
<li><a href="#api">API</a></li>
<ul>
<li><a href="#documents">documents(documents, documentCallback, itemCallback, layerCallback, frameCallback, elementCallback)</a></li>
<li><a href="#items">items(context, itemCallback, layerCallback, frameCallback, elementCallback)</a></li>
<li><a href="#layers">layers(context, layerCallback, frameCallback, elementCallback)</a></li>
<li><a href="#frames">frames(context, frameCallback, elementCallback)</a></li>
<li><a href="#elements">elements(context, elementCallback)</a></li>
</ul> </ul>
	<h3>Usage</h3>
	<p>Instead of writing and managing potentially fiddly nested loop code to handle DOM traversal, you now leave the <strong>looping</strong> logic to the Iterators API, and delegate the <strong>processing</strong> functionality to your own custom <strong>callback</strong> functions:</p>
	<pre class="prettyprint lang-javascript">
function processElement(element, index, elements, context)
{
    // your processing code here
}</pre>
<p>Each of the functions in the API accepts multiple callbacks, progressively down the chain, until you reach Element level:</p>
	<pre class="prettyprint lang-javascript">Iterators.items(context, itemCallback, layerCallback, frameCallback, elementCallback);</pre>
	<p>You can start processing at any level (using the relevant <a href="#api">method</a>) and finish at any (lower) level, depending on whether a callback for a level has been supplied. You can choose to skip intermediate levels, for example, you can provide callbacks for Layers and Elements, but choose to skip processing Frames (although they will be iterated over to get to Elements).</p>
	<p>Note that many of the Iterator methods accept a <a href="/support/api/flash/context">Context</a> object as their first parameter, as a reference from which to start iteration from. See the Context API for more information.</p>
<h3>Concept</h3>
<p>To demonstrate the differences between the two approaches in code, here is a typical JSFL <strong>Layers</strong> &gt; <strong>Frames</strong> &gt; <strong>Elements</strong> loop:</p>
<pre class="prettyprint lang-javascript">var timeline = fl.getDocumentDOM().getTimeline();
for(var i = 0; i
<p>This kind of code is probably familiar to most Flash developers, and although it looks pretty sstandard; it's not particularly flexible, and is impossible to reuse in an object oriented manner.</p>
<p>Using the Iterators API however, we delegate the drill down through the DOM to the librray, whilst we handle only the processing, with a simple callback:</p>
    <pre class="prettyprint lang-javascript">
function processElement(element, index, elements, context)
{
    trace(element.name);
}

Iterators.layers(true, null, null, processElement);</pre>
<pre>green_star
green_star
green_star
grey_oval
red_square
purple_oval</pre>
<h3>Processing multiple levels</h3>
<p>In the previous example, only the <a href="http://help.adobe.com/en_US/Flash/10.0_ExtendingFlash/WS5b3ccc516d4fbf351e63e3d118a9024f3f-7f6c.html">Element</a> elements were processed, using a single callback. Iterators gives you the option to process <strong>some</strong> or <strong>all</strong> of the elements in a chain, iterating down to the <strong>last</strong> element-type specified. To process an element at any level, you simply supply a callback to the relevant method parameter:</p>
<pre class="prettyprint lang-javascript">
function processLayer(layer, index, layers, context)
{
    trace('> ' + layer.name);
}

function processFrame(frame, index, frames, context)
{
    trace('    > ' + frame.startFrame);
}

function processElement(element, index, elements, context)
{
    trace('        > ' + element.name);
}

Iterators.layers(Context.create(), processLayer, processFrame, processElement);</pre>
<pre>&gt;actions
    &gt; 0
&gt;Layer 4
    &gt; 0
        "green_star"
    &gt; 9
        "green_star"
    &gt; 14
        "green_star"
&gt;Layer 3
    &gt; 0
    &gt; 3
        "grey_oval"
&gt;Layer 2
    &gt; 0
        "red_square"
&gt;Layer 1
    &gt; 0
    &gt; 5
        "purple_oval"</pre>
<h3>Halting or skipping processing of levels / branches</h3>
<p>There is one last bit of functionality that the Iterators API supports, and that's some basic influence over the internal loop logic of the Iterators looping methods.</p>
<p>By returning <strong>true</strong> or <strong>false</strong> values (rather than no return value) from the callback functions, you can <strong>stop</strong> or <strong>skip</strong> further processing:</p>
	</pre>
<ul>
		<li>Return a Boolean <strong>true</strong> to cancel <strong>all</strong> loop iteration, right back up to the top of the chain - for example when you've found an item you were using iteration to locate</li>
		<li>Return a Boolean <strong>false</strong> to skip the <strong>current</strong> branch of iteration - for example you want to skip the current layer (and subsequently its frames and elements)</li>
	</ul>
	<p>The following example illustrates this in code, iterating through all Layers, Frames and Elements, attempting to <strong>find</strong> an Symbol Item called 'red_square', but <strong>skipping</strong> guide layers as it processes:</p>
	<pre class="prettyprint lang-javascript">
function processLayer(layer, index, layers, context)
{
    if(layer.layerType == 'guide')
    {
        return false;
    }
}

function processElement(element, index, elements, context)
{
    if(element.name == 'red_square')
    {
        $selection = element;
        return true;
    }
}

var state = Iterators.layers(Context.create(), processLayer, null, processElement);
if(state)
{
	alert($selection[0].name + ' selected')
}</pre>
<p>If you run this code and have a Symbol Item called 'red_square' in a frame on your timeline you should get an alert box, and the item should be selected.</p>
<h2><a id="api" name="api" href="#api">API</a></h2>
	<div class="method">
		<h3 class="signature"><a id="documents" name="documents" href="#documents">documents(documents, documentCallback, itemCallback, layerCallback, frameCallback, elementCallback)</a></h3>
		<p class="description">Iterates through Documents, and optionally Items, Layers, Frames and Elements, processing each one with a callback if supplied</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">documents</span> <span class="type">Boolean</span> <span class="comment">Pass true to use all documents</span>
</li>
					<li>
<span class="name">documents</span> <span class="type">null</span> <span class="comment">Pass null to use all documents</span>
</li>
					<li style="margin-bottom:10px">
<span class="name">documents</span> <span class="type">Array</span> <span class="comment">An optional Array of Document objects</span>
</li>
					<li>
<span class="name">itemCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(item, index, items, context)</span>
					</li>
<li>
<span class="name">layerCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(layer, index, layers, context)</span>
					</li>
<li>
<span class="name">frameCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(frame, index, frames, context)</span>
					</li>
<li>
<span class="name">elementCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(element, index, elements, context)</span>

				</li>
</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true as soon as the callback returns true, if not false</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example iterates over all open documents, then uses the <a href="/support/api/elements/itemselector">ItemSelector</a> and <a href="/support/api/elements/itemcollection">ItemCollection</a> classes to find a symbol in the library called 'star':</p>
		<pre class="prettyprint lang-javascript">
function documentCallback(document, index, documents, context)
{
    var collection = $$('star');
    if(collection.elements.length)
    {
        fl.setActiveWindow(document);
        collection.reveal().select();
        trace('Found in ' + document.name);
        return true; // note that true is returned to halt the Iterator processing!
    }
    trace('Not found in ' + document.name);
}
Iterators.documents(true, documentCallback);</pre>
		<pre>Not found in snippets 03.fla
Not found in library items.fla
Found in frames and shapes.fla</pre>
		<p>Note that a Document does <strong>not</strong> need to have focus in order to be iterated over, or have its elements iterated over.</p>
		<p>This code could just as easily iterate down further, by adding more callbacks to the initial method call, or could be abstracted into a global search function, such as:</p>
		<pre class="prettyprint lang-javascript">findItemInOpenDocuments('star');</pre>
	</div>

	<div class="method">
		<h3 class="signature"><a id="items" name="items" href="#items">items(context, itemCallback, layerCallback, frameCallback, elementCallback)</a></h3>
		<p class="description">Iterates through Symbol or Library Items, and optionally Layers, Frames and Elements, processing each one with a callback if supplied</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">context</span> <span class="type">Array</span> <span class="comment">An Array of Symbol Items or Instances</span>
</li>
					<li>
<span class="name">context</span> <span class="type">Context</span> <span class="comment">A Context object, with a valid dom reference</span>
</li>
					<li>
<span class="name">context</span> <span class="type">Boolean</span> <span class="comment">Pass null to use all items</span>
</li>
					<li>
<span class="name" style="margin-bottom:10px">context</span> <span class="type">null</span> <span class="comment">Pass null to use  all items</span>
</li>
					<li>
<span class="name">itemCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(item, index, items, context)</span>
					</li>
<li>
<span class="name">layerCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(layer, index, layers, context)</span>
					</li>
<li>
<span class="name">frameCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(frame, index, frames, context)</span>
					</li>
<li>
<span class="name">elementCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(element, index, elements, context)</span>

				</li>
</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true as soon as the callback returns true, if not false</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example iterates over all items and their layers, locking any mask, masked or guide layers it finds:</p>
		<pre class="prettyprint lang-javascript">function itemCallback(item, index, items, context)
{
	trace('Updating:' + item.name)
}

function layerCallback(layer, index, layers, context)
{
	if(/^(mask|masked|guide)$/.test(layer.layerType))
	{
		layer.locked = true;
	}
	context.goto(); // update layer display by updating the playhead
}

Iterators.items(true, itemCallback, layerCallback)</pre>
		<pre>Updating:Symbol 1
Updating:Symbol 2
Updating:Symbol 3
...</pre>
	</div>

<div class="method">
		<h3 class="signature"><a id="layers" name="layers" href="#layers">layers(context, layerCallback, frameCallback, elementCallback)</a></h3>
		<p class="description">Iterates through a Timeline's layers, and optionally Frames and Elements, processing each one with a callback if supplied		</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">context</span> <span class="type">SymbolItem</span> <span class="comment">A SymbolInstance object</span>
</li>
					<li>
<span class="name">context</span> <span class="type">Array</span> <span class="comment">An Array of layers</span>
</li>
					<li>
<span class="name">context</span> <span class="type">Boolean</span> <span class="comment">Pass true to use the current timeline's layers</span>
</li>
					<li>
<span class="name" style="margin-bottom:10px">context</span> <span class="type">Context</span> <span class="comment">A Context object, with a valid item reference</span>
</li>
					<li>
<span class="name">layerCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(layer, index, layers, context)</span>
					</li>
<li>
<span class="name">frameCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(frame, index, frames, context)</span>
					</li>
<li>
<span class="name">elementCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(element, index, elements, context)</span>

				</li>
</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true as soon as the callback returns true, if not false</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example iterates over all layers in the current timeline, and if a named instance exists on frame 0, it renames the layer after it:</p>
	<pre class="prettyprint lang-javascript">function layerCallback(layer, index, layers, context)
{
	context.setFrame(0);
	if(context.frame.elements.length)
	{
		layer.name = context.frame.elements[0]['name'] || layer.name;
	}
}

Iterators.layers(layerCallback);</pre>
	<p>Note that the frame context needs to be set each time, as the Context passed to the callback only has <strong>dom</strong>, <strong>timeline</strong> and <strong>frame</strong> properties set.</p>
	</div>

<div class="method">
		<h3 class="signature"><a id="frames" name="frames" href="#frames">frames(context, frameCallback, elementCallback)</a></h3>
		<p class="description">Iterates through a Layer's Frames, and optionally Elements, processing each one with a callback if supplied		</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">context</span> <span class="type">Layer</span> <span class="comment">A Layer</span>
</li>
					<li>
<span class="name">context</span> <span class="type">Number</span> <span class="comment">A valid index of the current timeline</span>
</li>
					<li>
<span class="name">context</span> <span class="type">String</span> <span class="comment">A valid layer name of the current timeline</span>
</li>
					<li>
<span class="name" style="margin-bottom:10px">context</span> <span class="type">Context</span> <span class="comment">A Context object with a valid timeline reference</span>
</li>
					<li>
<span class="name">frameCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(frame, index, frames, context)</span>
					</li>
<li>
<span class="name">elementCallback</span> <span class="type">Function</span> <span class="comment">An optional callback of the format function(element, index, elements, context)</span>

				</li>
</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true as soon as the callback returns true, if not false</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example sets the tween sync to true for all frames on the animation layer:</p>
	<pre class="prettyprint lang-javascript">function frameCallback(frame, index, frames, context)
{
	frame.motionTweenSync = true;
}

Iterators.frames('animation', frameCallback);</pre>
	<p>You could  also acheive the same result using the <a href="/support/api/flash/context">Context</a> class::</p>
	<pre class="prettyprint lang-javascript">var keyframes = Context.create().setLayer('animation').keyframes;
for each(var frame in keyframes)
{
     frameCallback(frame);
}</pre>
	<p>Or you could update all animated frames by using <a href="#layers">Iterators.layers</a> to loop over all layers.</p>
	<p></p>
</div>

	<div class="method">
		<h3 class="signature"><a id="elements" name="elements" href="#elements">elements(context, elementCallback)</a></h3>
		<p class="description">Iterates through a Frame's elements, processing each one with a callback if supplied</p>
		<div class="function-meta">
			<div class="params">
				<p>Parameters:</p>
				<ul>
					<li>
<span class="name">context</span> <span class="type">Frame</span> <span class="comment">A frame object in the current Timeline</span>
</li>
					<li>
<span class="name" style="margin-bottom:10px">context</span> <span class="type">Context</span> <span class="comment">A Context object with a valid Frame reference</span>
</li>
					<li>
<span class="name">elementCallback</span> <span class="type">Function</span> <span class="comment">A callback of the format function(element, index, elements, context)</span>

				</li>
</ul>
			</div>
			<div class="returns">
				<p>Returns:</p>
				<ul>
					<li>
<span class="name">&nbsp;</span> <span class="type">Boolean</span> <span class="comment">true as soon as the callback returns true, if not false</span>
</li>

				</ul>
			</div>
		</div>
		<p>The following example simply traces out the selected elements' names:</p>
		<pre class="prettyprint lang-javascript">function elementCallback(element)
{
	trace(element.name);
}
elements($selection, elementCallback);	</pre>
<pre>Symbol_1
Symbol_2
Symbol_3</pre>
	</div>






			</div>



	</div>
<!--end post-entry-->





<div class="comment-entry post-entry">


			<h4 id="comments">One Response to Iterators (library)</h4>


			<ol class="commentlist">

	<li class="comment even thread-even depth-1" id="li-comment-4935">

		<div id="comment-4935">
			<div class="gravatar">
				<img alt="" src="http://2.gravatar.com/avatar/2e20576f63eca088ebb51421a71a8995?s=48&#038;d=mm&#038;r=g" srcset="http://2.gravatar.com/avatar/2e20576f63eca088ebb51421a71a8995?s=96&#038;d=mm&#038;r=g 2x" class="avatar avatar-48 photo" height="48" width="48" loading="lazy">			</div>

			<!-- display the comment -->
			<div class="comment_content">
						<cite class="author_name heading">Chichi Latté</cite> <span class="says">says:</span>
			<!-- display the comment metadata like time and date-->
			<div class="comment-meta commentmetadata">
			<a href="/support/api/flash/iterators#comment-4935">December 15, 2014 at 11:02 pm</a>
			</div>

			<!-- display the comment text -->
			<div class="comment_text">
			<p>Is it just me or are layers iterated from top-to-bottom, but frame elements iterate bottom-to-top? Makes it weirdly hard to get a list of elements ordered by depth. Here&#8217;s what works for me&#8230;</p>
<p><code><br>
    xjsfl.init(this);<br>
    var doc = fl.getDocumentDOM();<br>
    var timeline =  fl.getDocumentDOM().getTimeline();</code></p>
<p>    Iterators.layers(timeline, null, frameCallback);</p>
<p>    function frameCallback(frame) {<br>
        var elements = frame.elements.sort(function(a,b){<br>
            return a.depth - b.depth<br>
        });<br>
        for (var i=0, len=elements.length; i &lt; len; i++) {<br>
            processElement(elements[i]);<br>
        }<br>
    }</p>
<p>    function processElement(elem) {<br>
        // Do what you want with each element here<br>
        fl.trace(elem.name);<br>
    }<br>
<br>
Note: I&#8217;ve never used xJSFL before so this may be a crazy way to do it! Seems strange it should be this complicated.</p>
						</div>

		</div>
	</div>
</li>
<!-- #comment-## -->
			</ol>




</div>

				<!--end content-->
				</div>

				<div class="sidebar sidebar1 grid3">
<span class="sidebar_top"><!-- needed for smooth start of sidebar background--></span><span class="sidebar_bottom"><!-- needed for smooth end of sidebar background--></span><div id="text-4" class="widget widget_text">			<div class="textwidget"></div>
		</div>
</div>
			</div>
<!--end container-->

	</div>
	<!-- ####### END MAIN CONTAINER ####### -->


			<script src="/wp-content/themes/broadscope/js/custom.js"></script>


<!-- some parameters set in the backend and necessary for avia.js to work-->
<script type="text/javascript">
	var avia_autoplay = 'slideshow_autoplay';
	var avia_slideshow_controlls = 'slideshow_controlls';
	var avia_autoplay_duration   = '8';
</script>

			<!-- ####### FOOTER CONTAINER ####### -->
			<div class="container_wrap" id="footer">
				<div class="container">

					<div class="one_fifth first">
						<span class="arrow-down"></span>

		<div id="recent-posts-3" class="widget widget_recent_entries">
		<h4 class="widgettitle">Recent Posts</h4>
		<ul>
											<li>
					<a href="/blog/custom-icons-in-snippets-panel">Custom Icons in Snippets panel</a>
									</li>
											<li>
					<a href="/blog/publish-hooks-library-for-flash">Publish Hooks library for Flash</a>
									</li>
											<li>
					<a href="/support/tutorials/workflow/managing-code">Managing code</a>
									</li>
											<li>
					<a href="/blog/top-jsfl-bugs-to-fix">Top JSFL bugs to fix</a>
									</li>

					</ul>

		</div>					</div>
					<div class="one_fifth">
						<span class="arrow-down"></span>
						<div id="pages-2" class="widget widget_pages">
<h4 class="widgettitle">Pages</h4>
			<ul>
				<li class="page_item page-item-955"><a href="/case-studies">Case Studies</a></li>
<li class="page_item page-item-275"><a href="/contact">Contact</a></li>
<li class="page_item page-item-2"><a href="/download">Download</a></li>
<li class="page_item page-item-846"><a href="/license">Licensing</a></li><li class="page_item page-item-945"><a href="/roadmap">Roadmap</a></li>
<li class="page_item page-item-380"><a href="/support">Support</a></li>
<li class="page_item page-item-711"><a href="/features">xJSFL Features</a></li>
			</ul>

			</div>					</div>
					<div class="one_fifth">
						<span class="arrow-down"></span>
						<div class="widget widget_archive">
<h3>Pages</h3>
<ul>
<li class="page_item page-item-955"><a href="/case-studies">Case Studies</a></li>
<li class="page_item page-item-846"><a href="/license">Licensing</a></li><li class="page_item page-item-945"><a href="/roadmap">Roadmap</a></li>
<li class="page_item page-item-711"><a href="/features">xJSFL Features</a></li>
<li class="page_item page-item-380"><a href="/support">Support</a></li>
<li class="page_item page-item-2"><a href="/download">Download</a></li>
<li class="page_item page-item-275"><a href="/contact">Contact</a></li>
</ul>
</div>					</div>
					<div class="one_fifth">
						<span class="arrow-down"></span>
						<div class="widget widget_archive">
<h3>Bookmarks</h3>
<ul>
<li><a href="http://help.adobe.com/en_US/Flash/10.0_ExtendingFlash/index.html">Adobe JSFL API</a></li>
<li><a href="http://www.adobe.com/devnet/flash/articles/invisible_button_02.html">Creating and packaging a professional JSFL command</a></li>
<li><a href="https://developer.mozilla.org/en/XUL_Reference">Mozilla XUL Reference</a></li>
</ul>
</div>					</div>

					<div class="one_fifth">
						<span class="arrow-down"></span>
						<div id="meta-2" class="widget widget_meta">
<h4 class="widgettitle">Meta</h4>
		<ul>
						<li><a href="/wp-login.php">Log in</a></li>
			<li><a href="/feed">Entries feed</a></li>
			<li><a href="/comments/feed">Comments feed</a></li>

			<li><a href="https://wordpress.org/">WordPress.org</a></li>
		</ul>

		</div>					</div>
				</div>

			</div>
		<!-- ####### END FOOTER CONTAINER ####### -->

		<!-- ####### SOCKET CONTAINER ####### -->
			<div class="container_wrap" id="socket">
				<div class="container">
					<span class="copyright">&copy; Copyright - <a href="/">xJSFL</a> - <a href="http://www.kriesi.at/">Theme Design by Kriesi.at</a></span>

					<ul class="social_bookmarks">
						<li class="rss"><a href="/feed">RSS</a></li>
						<li class="twitter"><a href="http://twitter.com/xjsfl">Twitter</a></li>
					</ul>
<!-- end social_bookmarks-->

				</div>
			</div>
			<!-- ####### END SOCKET CONTAINER ####### -->

		</div>
<!-- end wrap_all -->

<script type="text/javascript">  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-603607-7']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script><script type="text/javascript" src="/wp-includes/js/wp-embed.min.js?ver=5.8.2" id="wp-embed-js"></script>
</body>
</html>
